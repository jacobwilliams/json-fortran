<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-type" content="text/html; charset=ISO-8859-1" />
<link rel="stylesheet" href="./robodoc.css" type="text/css" />
<title>./src/json_module.f90</title>
<!-- Source: ./src/json_module.f90 -->
<!-- Generated with ROBODoc Version 4.99.38 (Jun 13 2014) -->
</head>
<body>
<div id="logo">
<a name="robo_top_of_doc">jsonfortran_3.0.0</a>
</div> <!-- logo -->
<div id="navigation">
<a class="menuitem" href="./toc_index.html#top">Table of Contents</a>
<a class="menuitem" href="./robo_sourcefiles.html#top">Sourcefiles</a>
<a class="menuitem" href="./masterindex.html#top">Index</a>
<a class="menuitem" href="./robo_classes.html#top">Classes</a>
<a class="menuitem" href="./robo_definitions.html#top">Definitions</a>
<a class="menuitem" href="./robo_functions.html#top">Functions</a>
<a class="menuitem" href="./robo_modules.html#top">Modules</a>
<a class="menuitem" href="./robo_unittests.html#top">Unittest</a>
</div> <!-- navigation -->
<div id="content">
<hr />
<a name="JSON2fjson5fmodule"></a>
<a name="robo0"></a><h2>JSON/json_module [ Modules ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="./robo_modules.html#robo_top_of_doc">Modules</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_module</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    JSON-FORTRAN: A Fortran 2008 JSON (JavaScript Object Notation) API.
</pre>
<p class="item_name">NOTES</p>
<pre>    -Based on fson by Joseph A. Levin (see License below)
        -The original F95 code was split into four files:
            fson_path_m.f95, fson_string_m.f95, fson_value_m.f95, fson.f95
        -The code has been extensively modified and combined into this 
            one module (<a href="#robo_top_of_doc">json_module.f90</a>).
        -Some Fortran 2003/2008 features are now used 
            (e.g., allocatable strings, newunit, generic, class, abstract interface)
    -The headers in this file follow the ROBODoc conventions.
            Compile with: robodoc --src ./ --doc ./doc --multidoc --html 
                                  --tabsize 4 --ignore_case_when_linking 
                                  --syntaxcolors --source_line_numbers --index
</pre>
<p class="item_name">HISTORY</p>
<pre>    Joseph A. Levin : March 2012
    Jacob Williams : 2/8/2013 : Extensive modifications to the original code.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    [1] <a href="http://github.com/jacobwilliams/json-fortran">http://github.com/jacobwilliams/json-fortran</a> [json-fortran development site]
    [2] <a href="http://jacobwilliams.github.io/json-fortran">http://jacobwilliams.github.io/json-fortran</a> [json-fortran online documentation]
    [3] <a href="http://www.json.org/">http://www.json.org/</a> [JSON website]
    [4] <a href="http://jsonlint.com/">http://jsonlint.com/</a> [JSON validator]
</pre>
<p class="item_name">COPYRIGHT</p>
<pre>    -------------------------------------------------------------------------------------
    json-fortran License:

    JSON-FORTRAN: A Fortran 2008 JSON API
    <a href="http://github.com/jacobwilliams/json-fortran">http://github.com/jacobwilliams/json-fortran</a>

    Copyright (c) 2014, Jacob Williams
    All rights reserved.

    Redistribution and use in source and binary forms, with or without modification,
    are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice, this
      list of conditions and the following disclaimer.

    * Redistributions in binary form must reproduce the above copyright notice, this
      list of conditions and the following disclaimer in the documentation and/or
      other materials provided with the distribution.

    * The names of its contributors may not be used to endorse or promote products 
      derived from this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
    ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
    WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
    DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
    ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
    (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
    LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
    ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
    (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

    -------------------------------------------------------------------------------------
    Original FSON License:

    <a href="http://github.com/josephalevin/fson">http://github.com/josephalevin/fson</a> [FSON code retrieved on 12/2/2013]

    Copyright (c) 2012 Joseph A. Levin

    Permission is hereby granted, free of charge, to any person obtaining a copy of this
    software and associated documentation files (the "Software"), to deal in the Software
    without restriction, including without limitation the rights to use, copy, modify, merge,
    publish, distribute, sublicense, and/or sell copies of the Software, and to permit
    persons to whom the Software is furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all copies or
    substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
    INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
    PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
    LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
    OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
    DEALINGS IN THE SOFTWARE.
</pre>

<hr />
<a name="json5fmodule2fjson5fadd"></a>
<a name="robo2"></a><h2>json_module/json_add [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_add</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Add objects to a linked list of json_values.
</pre>
<p class="item_name">NOTES</p>
<pre>    Formerly, this was called json_value_add
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">363 </span>    <span class="keyword">interface</span> <strong>json_add</strong>
<span class="line_number">364 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo71">json_value_add_member</a>
<span class="line_number">365 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo67">json_value_add_integer</a><span class="sign">,</span> <a href="#robo68">json_value_add_integer_vec</a>
<span class="line_number">366 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo65">json_value_add_double</a><span class="sign">,</span>  <a href="#robo66">json_value_add_double_vec</a>
<span class="line_number">367 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo69">json_value_add_logical</a><span class="sign">,</span> <a href="#robo70">json_value_add_logical_vec</a>
<span class="line_number">368 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo72">json_value_add_string</a><span class="sign">,</span>  <a href="#robo73">json_value_add_string_vec</a>
<span class="line_number">369 </span>    <span class="keyword">end</span> <span class="keyword">interface</span> <strong>json_add</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcheck5ffor5ferrors"></a>
<a name="robo3"></a><h2>json_module/json_check_for_errors [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_check_for_errors</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Retrieve error code from the module.
    This should be called after <a href="#robo52">json_parse</a> to check for errors.
    If an error is thrown, before using the module again, <a href="#robo51">json_initialize</a>
    should be called to clean up before it is used again.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo15">json_file</a>) :: json
    logical :: status_ok
    character(len=:),allocatable :: error_msg
    call json%load_file(filename='myfile.json')
    call <strong>json_check_for_errors</strong>(status_ok, error_msg)
    if (.not. status_ok) then
        write(*,*) 'Error: '//error_msg
        call <a href="#robo4">json_clear_exceptions</a>()
        call json%destroy()
    end if
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo14">json_failed</a>
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/4/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1349 </span>    <span class="keyword">subroutine</span> <strong>json_check_for_errors</strong><span class="sign">(</span>status_ok<span class="sign">,</span> error_msg<span class="sign">)</span>
<span class="line_number">1350 </span>
<span class="line_number">1351 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1352 </span>
<span class="line_number">1353 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> status_ok
<span class="line_number">1354 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> error_msg
<span class="line_number">1355 </span>
<span class="line_number">1356 </span>    status_ok <span class="sign">=</span> <span class="sign">.</span>not<span class="sign">.</span> exception_thrown
<span class="line_number">1357 </span>
<span class="line_number">1358 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> status_ok<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1359 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>err_message<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1360 </span>            error_msg <span class="sign">=</span> err_message
<span class="line_number">1361 </span>        <span class="keyword">else</span>
<span class="line_number">1362 </span>            error_msg <span class="sign">=</span> <span class="squote">'Unknown Error'</span>
<span class="line_number">1363 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1364 </span>    <span class="keyword">else</span>
<span class="line_number">1365 </span>        error_msg <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">1366 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1367 </span>
<span class="line_number">1368 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_check_for_errors</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fclear5fexceptions"></a>
<a name="robo4"></a><h2>json_module/json_clear_exceptions [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_clear_exceptions</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Clear exceptions in the JSON module.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/4/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1270 </span>    <span class="keyword">subroutine</span> <strong>json_clear_exceptions</strong><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">1271 </span>
<span class="line_number">1272 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1273 </span>
<span class="line_number">1274 </span>    <span class="comment">!clear the flag and message:</span>
<span class="line_number">1275 </span>    exception_thrown <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">1276 </span>    err_message <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">1277 </span>
<span class="line_number">1278 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_clear_exceptions</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcount"></a>
<a name="robo5"></a><h2>json_module/json_count [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_count</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Count the number of children.
</pre>
<p class="item_name">HISTORY</p>
<pre>    JW : 1/4/2014 : Original routine removed.  
                    Now using n_children variable.
                    Renamed from json_value_count.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2437 </span>    <span class="keyword">function</span> <strong>json_count</strong><span class="sign">(</span>me<span class="sign">)</span> <span class="keyword">result</span><span class="sign">(</span>count<span class="sign">)</span>
<span class="line_number">2438 </span>
<span class="line_number">2439 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2440 </span>
<span class="line_number">2441 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span>                         <span class="sign">:</span><span class="sign">:</span> count
<span class="line_number">2442 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2443 </span>    
<span class="line_number">2444 </span>    count <span class="sign">=</span> me<span class="sign">%</span>n_children
<span class="line_number">2445 </span>
<span class="line_number">2446 </span>    <span class="keyword">end</span> <span class="keyword">function</span> <strong>json_count</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5farray"></a>
<a name="robo6"></a><h2>json_module/json_create_array [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_create_array</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Allocate a <a href="#robo64">json_value</a> pointer and make it an array variable.
    The pointer should not already be allocated.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>),pointer :: p
    call json_create(p,'arrayname')
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4474 </span>    <span class="keyword">subroutine</span> <strong>json_create_array</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4475 </span>    
<span class="line_number">4476 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4477 </span>    
<span class="line_number">4478 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4479 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4480 </span>    
<span class="line_number">4481 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4482 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>    
<span class="line_number">4483 </span>    
<span class="line_number">4484 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_array</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5fdouble"></a>
<a name="robo7"></a><h2>json_module/json_create_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_create_double</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Allocate a <a href="#robo64">json_value</a> pointer and make it a double variable.
    The pointer should not already be allocated.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>),pointer :: p
    call json_create(p,'value',1.0d0)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4344 </span>    <span class="keyword">subroutine</span> <strong>json_create_double</strong><span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4345 </span>    
<span class="line_number">4346 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4347 </span>    
<span class="line_number">4348 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4349 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4350 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                 <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">4351 </span>    
<span class="line_number">4352 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4353 </span>    <span class="keyword">call</span> to_double<span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>    
<span class="line_number">4354 </span>    
<span class="line_number">4355 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5finteger"></a>
<a name="robo8"></a><h2>json_module/json_create_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_create_integer</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Allocate a <a href="#robo64">json_value</a> pointer and make it an integer variable.
    The pointer should not already be allocated.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>),pointer :: p
    call json_create(p,'value',1)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4311 </span>    <span class="keyword">subroutine</span> <strong>json_create_integer</strong><span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4312 </span>    
<span class="line_number">4313 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4314 </span>    
<span class="line_number">4315 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4316 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4317 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">4318 </span>    
<span class="line_number">4319 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4320 </span>    <span class="keyword">call</span> to_integer<span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>    
<span class="line_number">4321 </span>    
<span class="line_number">4322 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5flogical"></a>
<a name="robo9"></a><h2>json_module/json_create_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_create_logical</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Allocate a <a href="#robo64">json_value</a> pointer and make it a logical variable.
    The pointer should not already be allocated.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>),pointer :: p
    call json_create(p,'value',.true.)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4278 </span>    <span class="keyword">subroutine</span> <strong>json_create_logical</strong><span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4279 </span>    
<span class="line_number">4280 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4281 </span>    
<span class="line_number">4282 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4283 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4284 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">4285 </span>    
<span class="line_number">4286 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4287 </span>    <span class="keyword">call</span> to_logical<span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>    
<span class="line_number">4288 </span>    
<span class="line_number">4289 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5fnull"></a>
<a name="robo10"></a><h2>json_module/json_create_null [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_create_null</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Allocate a <a href="#robo64">json_value</a> pointer and make it a null variable.
    The pointer should not already be allocated.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>),pointer :: p
    call json_create(p,'value')
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4410 </span>    <span class="keyword">subroutine</span> <strong>json_create_null</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4411 </span>    
<span class="line_number">4412 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4413 </span>    
<span class="line_number">4414 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4415 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4416 </span>    
<span class="line_number">4417 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4418 </span>    <span class="keyword">call</span> to_null<span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>    
<span class="line_number">4419 </span>    
<span class="line_number">4420 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_null</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5fobject"></a>
<a name="robo11"></a><h2>json_module/json_create_object [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_create_object</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Allocate a <a href="#robo64">json_value</a> pointer and make it an object variable.
    The pointer should not already be allocated.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>),pointer :: p
    call json_create(p,'objectname')
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4442 </span>    <span class="keyword">subroutine</span> <strong>json_create_object</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4443 </span>    
<span class="line_number">4444 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4445 </span>    
<span class="line_number">4446 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4447 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4448 </span>    
<span class="line_number">4449 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4450 </span>    <span class="keyword">call</span> to_object<span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">)</span>    
<span class="line_number">4451 </span>    
<span class="line_number">4452 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_object</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fcreate5fstring"></a>
<a name="robo12"></a><h2>json_module/json_create_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_create_string</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Allocate a <a href="#robo64">json_value</a> pointer and make it a string variable.
    The pointer should not already be allocated.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>),pointer :: p
    call json_create(p,'value','hello')
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">4377 </span>    <span class="keyword">subroutine</span> <strong>json_create_string</strong><span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">4378 </span>    
<span class="line_number">4379 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">4380 </span>    
<span class="line_number">4381 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">4382 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">4383 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">4384 </span>    
<span class="line_number">4385 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">4386 </span>    <span class="keyword">call</span> to_string<span class="sign">(</span>me<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>    
<span class="line_number">4387 </span>    
<span class="line_number">4388 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_create_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fdestroy"></a>
<a name="robo13"></a><h2>json_module/json_destroy [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_destroy</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Destructor routine for a <a href="#robo64">json_value</a> pointer.
    This must be called explicitly if it is no longer needed, 
    before it goes out of scope.  Otherwise, a memory leak will result.
</pre>
<p class="item_name">USAGE</p>
<pre>    type(<a href="#robo64">json_value</a>) :: p
    ...
    call <strong>json_destroy</strong>(p)
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">471 </span>    <span class="keyword">interface</span> <strong>json_destroy</strong>
<span class="line_number">472 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo74">json_value_destroy</a>
<span class="line_number">473 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5ffailed"></a>
<a name="robo14"></a><h2>json_module/json_failed [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_failed</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Logical function to indicate if an exception has been thrown.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo15">json_file</a>) :: json
    logical :: status_ok
    character(len=:),allocatable :: error_msg
    call json%load_file(filename='myfile.json')
    if (<strong>json_failed</strong>()) then
        call <a href="#robo3">json_check_for_errors</a>(status_ok, error_msg)
        write(*,*) 'Error: '//error_msg
        call <a href="#robo4">json_clear_exceptions</a>()
        call json%destroy()
    end if
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo3">json_check_for_errors</a>
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/5/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1400 </span>    <span class="keyword">function</span> <strong>json_failed</strong><span class="sign">(</span><span class="sign">)</span> <span class="keyword">result</span><span class="sign">(</span>failed<span class="sign">)</span>
<span class="line_number">1401 </span>
<span class="line_number">1402 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1403 </span>
<span class="line_number">1404 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> failed
<span class="line_number">1405 </span>
<span class="line_number">1406 </span>    failed <span class="sign">=</span> exception_thrown
<span class="line_number">1407 </span>
<span class="line_number">1408 </span>    <span class="keyword">end</span> <span class="keyword">function</span> <strong>json_failed</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile"></a>
<a name="robo15"></a><h2>json_module/json_file [ Classes ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_classes.html#robo_top_of_doc">Classes</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    The <strong>json_file</strong> is the main public class that is
    used to open a file and get data from it.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<strong>json_file</strong>) :: json
    integer :: ival
    real(real64) :: rval
    character(len=:),allocatable :: cval
    logical :: found
    call json%load_file(filename='myfile.json')
    call json%print_file() !print to the console
    call json%get('var.i',ival,found)
    call json%get('var.r(3)',rval,found)
    call json%get('var.c',cval,found)
    call json%destroy()
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/9/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">258 </span>        <span class="keyword">private</span>
<span class="line_number">259 </span>
<span class="line_number">260 </span>        <span class="comment">!the JSON structure read from the file:</span>
<span class="line_number">261 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p <span class="sign">=</span><span class="sign">&gt;</span> null<span class="sign">(</span><span class="sign">)</span>
<span class="line_number">262 </span>
<span class="line_number">263 </span>        <span class="keyword">contains</span>
<span class="line_number">264 </span>
<span class="line_number">265 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> load_file        <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo26">json_file_load</a>
<span class="line_number">266 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> load_from_string <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo27">json_file_load_from_string</a>
<span class="line_number">267 </span>        
<span class="line_number">268 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> destroy     <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo16">json_file_destroy</a>
<span class="line_number">269 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> move        <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo28">json_file_move_pointer</a>
<span class="line_number">270 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> info        <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo37">json_file_variable_info</a>
<span class="line_number">271 </span>        
<span class="line_number">272 </span>        <span class="keyword">procedure</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> print_to_string <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo32">json_file_print_to_string</a>
<span class="line_number">273 </span>
<span class="line_number">274 </span>        <span class="keyword">generic</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> print_file <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo31">json_file_print_to_console</a><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">275 </span>                                        <a href="#robo29">json_file_print_1</a><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">276 </span>                                        <a href="#robo30">json_file_print_2</a>
<span class="line_number">277 </span>        
<span class="line_number">278 </span>        <span class="keyword">generic</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> get <span class="sign">=</span><span class="sign">&gt;</span> <a href="#robo23">json_file_get_object</a><span class="sign">,</span>      <span class="sign">&amp;</span>
<span class="line_number">279 </span>                                 <a href="#robo19">json_file_get_integer</a><span class="sign">,</span>     <span class="sign">&amp;</span>
<span class="line_number">280 </span>                                 <a href="#robo17">json_file_get_double</a><span class="sign">,</span>      <span class="sign">&amp;</span>
<span class="line_number">281 </span>                                 <a href="#robo21">json_file_get_logical</a><span class="sign">,</span>     <span class="sign">&amp;</span>
<span class="line_number">282 </span>                                 <a href="#robo24">json_file_get_string</a><span class="sign">,</span>      <span class="sign">&amp;</span>
<span class="line_number">283 </span>                                 <a href="#robo20">json_file_get_integer_vec</a><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">284 </span>                                 <a href="#robo18">json_file_get_double_vec</a><span class="sign">,</span>  <span class="sign">&amp;</span>
<span class="line_number">285 </span>                                 <a href="#robo22">json_file_get_logical_vec</a><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">286 </span>                                 <a href="#robo25">json_file_get_string_vec</a>
<span class="line_number">287 </span>                                 
<span class="line_number">288 </span>        <span class="keyword">generic</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> update <span class="sign">=</span><span class="sign">&gt;</span>  <a href="#robo33">json_file_update_integer</a><span class="sign">,</span>  <span class="sign">&amp;</span>
<span class="line_number">289 </span>                                     <a href="#robo34">json_file_update_logical</a><span class="sign">,</span>  <span class="sign">&amp;</span>
<span class="line_number">290 </span>                                     <a href="#robo35">json_file_update_real</a><span class="sign">,</span>     <span class="sign">&amp;</span>
<span class="line_number">291 </span>                                     <a href="#robo36">json_file_update_string</a>
<span class="line_number">292 </span>
<span class="line_number">293 </span>        <span class="comment">!get:</span>
<span class="line_number">294 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo23">json_file_get_object</a>
<span class="line_number">295 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo19">json_file_get_integer</a>
<span class="line_number">296 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo17">json_file_get_double</a>
<span class="line_number">297 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo21">json_file_get_logical</a>
<span class="line_number">298 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo24">json_file_get_string</a>
<span class="line_number">299 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo20">json_file_get_integer_vec</a>
<span class="line_number">300 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo18">json_file_get_double_vec</a>
<span class="line_number">301 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo22">json_file_get_logical_vec</a>
<span class="line_number">302 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo25">json_file_get_string_vec</a>
<span class="line_number">303 </span>        
<span class="line_number">304 </span>        <span class="comment">!update:</span>
<span class="line_number">305 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo33">json_file_update_integer</a>
<span class="line_number">306 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo34">json_file_update_logical</a>
<span class="line_number">307 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo35">json_file_update_real</a>
<span class="line_number">308 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo36">json_file_update_string</a>
<span class="line_number">309 </span>        
<span class="line_number">310 </span>        <span class="comment">!print_file:</span>
<span class="line_number">311 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo31">json_file_print_to_console</a>
<span class="line_number">312 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo29">json_file_print_1</a>
<span class="line_number">313 </span>        <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo30">json_file_print_2</a>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fdestroy"></a>
<a name="robo16"></a><h2>json_module/json_file_destroy [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_destroy</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%destroy()
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Destroy the JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/9/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">595 </span>    <span class="keyword">subroutine</span> <strong>json_file_destroy</strong><span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">596 </span>    
<span class="line_number">597 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">598 </span>
<span class="line_number">599 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">600 </span>
<span class="line_number">601 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">call</span> <a href="#robo74">json_value_destroy</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">)</span>
<span class="line_number">602 </span>
<span class="line_number">603 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_destroy</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fdouble"></a>
<a name="robo17"></a><h2>json_module/json_file_get_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_get_double</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%get(path,val,found)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a double from a JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/9/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1049 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_double</strong> <span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> val<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1050 </span>
<span class="line_number">1051 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1052 </span>
<span class="line_number">1053 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1054 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1055 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>                <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1056 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>    <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1057 </span>
<span class="line_number">1058 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>val<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">1059 </span>
<span class="line_number">1060 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fdouble5fvec"></a>
<a name="robo18"></a><h2>json_module/json_file_get_double_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_get_double_vec</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%get(path,vec,found)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a double vector from a JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/19/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1080 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_double_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1081 </span>    
<span class="line_number">1082 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1083 </span>
<span class="line_number">1084 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1085 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>           <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1086 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">1087 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>              <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1088 </span>
<span class="line_number">1089 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1090 </span>
<span class="line_number">1091 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_double_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5finteger"></a>
<a name="robo19"></a><h2>json_module/json_file_get_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_get_integer</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%get(path,val)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get an integer from a JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/9/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">987 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_integer</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> val<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">988 </span>
<span class="line_number">989 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">990 </span>
<span class="line_number">991 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">992 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">993 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">994 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>    <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">995 </span>
<span class="line_number">996 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>val<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">997 </span>
<span class="line_number">998 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5finteger5fvec"></a>
<a name="robo20"></a><h2>json_module/json_file_get_integer_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_get_integer_vec</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%get(path,vec)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get an integer vector from a JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/20/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1018 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_integer_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1019 </span>
<span class="line_number">1020 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1021 </span>
<span class="line_number">1022 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                   <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1023 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1024 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">1025 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1026 </span>
<span class="line_number">1027 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1028 </span>
<span class="line_number">1029 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_integer_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5flogical"></a>
<a name="robo21"></a><h2>json_module/json_file_get_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_get_logical</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%get(path,val,found)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a logical from a JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/9/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1111 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_logical</strong><span class="sign">(</span>me<span class="sign">,</span>path<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1112 </span>
<span class="line_number">1113 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1114 </span>
<span class="line_number">1115 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>       <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1116 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1117 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1118 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1119 </span>
<span class="line_number">1120 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>val<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">1121 </span>
<span class="line_number">1122 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5flogical5fvec"></a>
<a name="robo22"></a><h2>json_module/json_file_get_logical_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_get_logical_vec</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%get(path,vec)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a logical vector from a JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/20/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1142 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_logical_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1143 </span>
<span class="line_number">1144 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1145 </span>
<span class="line_number">1146 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                   <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1147 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1148 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">1149 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1150 </span>    
<span class="line_number">1151 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1152 </span>
<span class="line_number">1153 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_logical_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fobject"></a>
<a name="robo23"></a><h2>json_module/json_file_get_object [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_get_object</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%get(path,p,found)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a pointer to an object from a JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 2/3/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">956 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_object</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> p<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">957 </span>    
<span class="line_number">958 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">959 </span>
<span class="line_number">960 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>       <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">961 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">962 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">963 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">964 </span>
<span class="line_number">965 </span>    <span class="keyword">call</span> <a href="#robo40">json_get_by_path</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">966 </span>
<span class="line_number">967 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_object</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fstring"></a>
<a name="robo24"></a><h2>json_module/json_file_get_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_get_string</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%get(path,val)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a character string from a json file.
    Note: val is an allocatable character string.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/9/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1174 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_string</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> val<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1175 </span>
<span class="line_number">1176 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1177 </span>
<span class="line_number">1178 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                   <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1179 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1180 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1181 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1182 </span>
<span class="line_number">1183 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>val<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">1184 </span>
<span class="line_number">1185 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fget5fstring5fvec"></a>
<a name="robo25"></a><h2>json_module/json_file_get_string_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_get_string_vec</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%get(path,vec)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a string vector from a JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/19/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1205 </span>    <span class="keyword">subroutine</span> <strong>json_file_get_string_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1206 </span>
<span class="line_number">1207 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1208 </span>
<span class="line_number">1209 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                                <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1210 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                           <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">1211 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">1212 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                              <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1213 </span>
<span class="line_number">1214 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">1215 </span>
<span class="line_number">1216 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_get_string_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fload"></a>
<a name="robo26"></a><h2>json_module/json_file_load [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_load</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Load a JSON file.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo15">json_file</a>) :: f
    call f%load_file('my_file.json')
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/9/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">660 </span>    <span class="keyword">subroutine</span> <strong>json_file_load</strong><span class="sign">(</span>me<span class="sign">,</span> filename<span class="sign">,</span> unit<span class="sign">)</span>
<span class="line_number">661 </span>
<span class="line_number">662 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">663 </span>
<span class="line_number">664 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">665 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> filename
<span class="line_number">666 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> unit
<span class="line_number">667 </span>
<span class="line_number">668 </span>    <span class="keyword">call</span> <a href="#robo52">json_parse</a><span class="sign">(</span>file<span class="sign">=</span>filename<span class="sign">,</span> p<span class="sign">=</span>me<span class="sign">%</span>p<span class="sign">,</span> unit<span class="sign">=</span>unit<span class="sign">)</span>
<span class="line_number">669 </span>
<span class="line_number">670 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_load</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fload5ffrom5fstring"></a>
<a name="robo27"></a><h2>json_module/json_file_load_from_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_load_from_string</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Load the JSON data from a string.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo15">json_file</a>) :: f
    call f%load_from_string('{ "name": "Leonidas" }')
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/13/2015
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">691 </span>    <span class="keyword">subroutine</span> <strong>json_file_load_from_string</strong><span class="sign">(</span>me<span class="sign">,</span> str<span class="sign">)</span>
<span class="line_number">692 </span>
<span class="line_number">693 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">694 </span>
<span class="line_number">695 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">696 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">697 </span>
<span class="line_number">698 </span>    <span class="keyword">call</span> <a href="#robo52">json_parse</a><span class="sign">(</span>str<span class="sign">=</span>str<span class="sign">,</span> p<span class="sign">=</span>me<span class="sign">%</span>p<span class="sign">)</span>
<span class="line_number">699 </span>
<span class="line_number">700 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_load_from_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fmove5fpointer"></a>
<a name="robo28"></a><h2>json_module/json_file_move_pointer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_move_pointer</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call to%move(from)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Move the <a href="#robo64">json_value</a> pointer from one <a href="#robo15">json_file</a> to another.
    "from" is then nullified, but not destroyed.
    Note: if "from%p" is not associated, then an error is thrown.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/5/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">625 </span>    <span class="keyword">subroutine</span> <strong>json_file_move_pointer</strong><span class="sign">(</span>to<span class="sign">,</span>from<span class="sign">)</span>
<span class="line_number">626 </span>    
<span class="line_number">627 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">628 </span>
<span class="line_number">629 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> to
<span class="line_number">630 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> from
<span class="line_number">631 </span>
<span class="line_number">632 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>from<span class="sign">%</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">633 </span>        to<span class="sign">%</span>p <span class="sign">=</span><span class="sign">&gt;</span> from<span class="sign">%</span>p
<span class="line_number">634 </span>        <span class="keyword">nullify</span><span class="sign">(</span>from<span class="sign">%</span>p<span class="sign">)</span>
<span class="line_number">635 </span>    <span class="keyword">else</span>
<span class="line_number">636 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_file_move_pointer</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">637 </span>                             <span class="squote">'pointer is not associated.'</span><span class="sign">)</span>
<span class="line_number">638 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">639 </span>
<span class="line_number">640 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_move_pointer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fprint5f1"></a>
<a name="robo29"></a><h2>json_module/json_file_print_1 [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_print_1</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%print_file(iunit)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Print the JSON file.
    Prints to the specified file unit (if not present, then prints to the console)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/9/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">751 </span>    <span class="keyword">subroutine</span> <strong>json_file_print_1</strong><span class="sign">(</span>me<span class="sign">,</span> iunit<span class="sign">)</span>
<span class="line_number">752 </span>
<span class="line_number">753 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">754 </span>
<span class="line_number">755 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">756 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>          <span class="sign">:</span><span class="sign">:</span> iunit  <span class="comment">!must be non-zero</span>
<span class="line_number">757 </span>
<span class="line_number">758 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i
<span class="line_number">759 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> dummy
<span class="line_number">760 </span>
<span class="line_number">761 </span>    <span class="keyword">if</span> <span class="sign">(</span>iunit<span class="sign">/</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">762 </span>        i <span class="sign">=</span> iunit
<span class="line_number">763 </span>    <span class="keyword">else</span>
<span class="line_number">764 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_file_print_1</strong>: iunit must be nonzero.'</span><span class="sign">)</span>
<span class="line_number">765 </span>        <span class="keyword">return</span>
<span class="line_number">766 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">767 </span>
<span class="line_number">768 </span>    <span class="keyword">call</span> json_value_print<span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>iunit<span class="sign">=</span>i<span class="sign">,</span>str<span class="sign">=</span>dummy<span class="sign">,</span>indent<span class="sign">=</span>1<span class="sign">,</span>colon<span class="sign">=</span><span class="sign">.</span>true<span class="sign">.</span><span class="sign">)</span>
<span class="line_number">769 </span>
<span class="line_number">770 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_print_1</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fprint5f2"></a>
<a name="robo30"></a><h2>json_module/json_file_print_2 [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_print_2</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%print_file(filename)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Print the JSON file.
    Input is the filename.  The file is opened, printed, and then closed.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo15">json_file</a>) :: f
    logical :: found
    call f%load_file('my_file.json')    !open the original file
    call f%update('version',4,found)    !change the value of a variable
    call f%print_file('my_file_2.json') !save file as new name
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/11/2015
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">798 </span>    <span class="keyword">subroutine</span> <strong>json_file_print_2</strong><span class="sign">(</span>me<span class="sign">,</span>filename<span class="sign">)</span>
<span class="line_number">799 </span>
<span class="line_number">800 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">801 </span>
<span class="line_number">802 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">803 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> filename
<span class="line_number">804 </span>
<span class="line_number">805 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> iunit<span class="sign">,</span>istat
<span class="line_number">806 </span>
<span class="line_number">807 </span>    <span class="keyword">open</span><span class="sign">(</span>newunit<span class="sign">=</span>iunit<span class="sign">,</span>file<span class="sign">=</span>filename<span class="sign">,</span>status<span class="sign">=</span><span class="squote">'REPLACE'</span><span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">808 </span>    <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">809 </span>        <span class="keyword">call</span> me<span class="sign">%</span>print_file<span class="sign">(</span>iunit<span class="sign">)</span>    <span class="comment">!call the other routine</span>
<span class="line_number">810 </span>        <span class="keyword">close</span><span class="sign">(</span>iunit<span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">811 </span>    <span class="keyword">else</span>
<span class="line_number">812 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_file_print_2</strong>: could not open file: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">813 </span>                              <span class="keyword">trim</span><span class="sign">(</span>filename<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">814 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">815 </span>    
<span class="line_number">816 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_print_2</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fprint5fto5fconsole"></a>
<a name="robo31"></a><h2>json_module/json_file_print_to_console [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_print_to_console</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%print_file()
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Print the JSON file to the console.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/11/2015
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">720 </span>    <span class="keyword">subroutine</span> <strong>json_file_print_to_console</strong><span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">721 </span>
<span class="line_number">722 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">723 </span>
<span class="line_number">724 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">725 </span>
<span class="line_number">726 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> dummy
<span class="line_number">727 </span>
<span class="line_number">728 </span>    <span class="keyword">call</span> json_value_print<span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>iunit<span class="sign">=</span>output_unit<span class="sign">,</span>str<span class="sign">=</span>dummy<span class="sign">,</span>indent<span class="sign">=</span>1<span class="sign">,</span>colon<span class="sign">=</span><span class="sign">.</span>true<span class="sign">.</span><span class="sign">)</span>
<span class="line_number">729 </span>
<span class="line_number">730 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_print_to_console</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fprint5fto5fstring"></a>
<a name="robo32"></a><h2>json_module/json_file_print_to_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_print_to_string</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%print_to_string(str)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Print the JSON file to a string.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo15">json_file</a>) :: f
    character(kind=CK,len=:),allocatable :: str
    call f%load_file('my_file.json')
    call f%print_file(str)
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/11/2015
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">842 </span>    <span class="keyword">subroutine</span> <strong>json_file_print_to_string</strong><span class="sign">(</span>me<span class="sign">,</span>str<span class="sign">)</span>
<span class="line_number">843 </span>
<span class="line_number">844 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">845 </span>
<span class="line_number">846 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>                   <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">847 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">848 </span>
<span class="line_number">849 </span>    <span class="keyword">call</span> <a href="#robo79">json_value_to_string</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>str<span class="sign">)</span>
<span class="line_number">850 </span>    
<span class="line_number">851 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_print_to_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fupdate5finteger"></a>
<a name="robo33"></a><h2>json_module/json_file_update_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_update_integer</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given the path string, if the variable is present in the file, 
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo61">json_update_integer</a>
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/10/2015
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1648 </span>    <span class="keyword">subroutine</span> <strong>json_file_update_integer</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1649 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1650 </span>    
<span class="line_number">1651 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1652 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1653 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1654 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1655 </span>    
<span class="line_number">1656 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo59">json_update</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1657 </span>    
<span class="line_number">1658 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_update_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fupdate5flogical"></a>
<a name="robo34"></a><h2>json_module/json_file_update_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_update_logical</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given the path string, if the variable is present in the file, 
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo62">json_update_logical</a>
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/10/2015
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1680 </span>    <span class="keyword">subroutine</span> <strong>json_file_update_logical</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1681 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1682 </span>    
<span class="line_number">1683 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1684 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1685 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1686 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1687 </span>
<span class="line_number">1688 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo59">json_update</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1689 </span>
<span class="line_number">1690 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_update_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fupdate5freal"></a>
<a name="robo35"></a><h2>json_module/json_file_update_real [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_update_real</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given the path string, if the variable is present in the file, 
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    json_update_real
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/10/2015
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1712 </span>    <span class="keyword">subroutine</span> <strong>json_file_update_real</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1713 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1714 </span>    
<span class="line_number">1715 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1716 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1717 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                 <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1718 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1719 </span>
<span class="line_number">1720 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo59">json_update</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1721 </span>
<span class="line_number">1722 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_update_real</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fupdate5fstring"></a>
<a name="robo36"></a><h2>json_module/json_file_update_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_update_string</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given the path string, if the variable is present in the file, 
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</pre>
<p class="item_name">SEE ALSO</p>
<pre>    <a href="#robo63">json_update_string</a>
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/10/2015
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1744 </span>    <span class="keyword">subroutine</span> <strong>json_file_update_string</strong><span class="sign">(</span>me<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1745 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1746 </span>    
<span class="line_number">1747 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1748 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1749 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1750 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1751 </span>
<span class="line_number">1752 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo59">json_update</a><span class="sign">(</span>me<span class="sign">%</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1753 </span>
<span class="line_number">1754 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_update_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5ffile5fvariable5finfo"></a>
<a name="robo37"></a><h2>json_module/json_file_variable_info [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_file_variable_info</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%info(path,found,<a href="#robo81">var_type</a>,n_children)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns information about a variable in a file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 2/3/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">871 </span>    <span class="keyword">subroutine</span> <strong>json_file_variable_info</strong><span class="sign">(</span>me<span class="sign">,</span>path<span class="sign">,</span>found<span class="sign">,</span><a href="#robo81">var_type</a><span class="sign">,</span>n_children<span class="sign">)</span>
<span class="line_number">872 </span>
<span class="line_number">873 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">874 </span>
<span class="line_number">875 </span>    <span class="keyword">class</span><span class="sign">(</span><a href="#robo15">json_file</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>inout<span class="sign">)</span>      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">876 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">877 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">878 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> <a href="#robo81">var_type</a>
<span class="line_number">879 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> n_children
<span class="line_number">880 </span>
<span class="line_number">881 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">882 </span>
<span class="line_number">883 </span>    <span class="comment">!initialize:</span>
<span class="line_number">884 </span>    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">885 </span>
<span class="line_number">886 </span>    <span class="comment">!get a pointer to the variable (if it is there):</span>
<span class="line_number">887 </span>    <span class="keyword">call</span> me<span class="sign">%</span>get<span class="sign">(</span>path<span class="sign">,</span>p<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">888 </span>
<span class="line_number">889 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">890 </span>
<span class="line_number">891 </span>        <span class="comment">!get info:</span>
<span class="line_number">892 </span>        <span class="keyword">call</span> <a href="#robo50">json_info</a><span class="sign">(</span>p<span class="sign">,</span><a href="#robo81">var_type</a><span class="sign">,</span>n_children<span class="sign">)</span>
<span class="line_number">893 </span>
<span class="line_number">894 </span>    <span class="keyword">else</span>
<span class="line_number">895 </span>
<span class="line_number">896 </span>        <span class="comment">!set to dummy values:</span>
<span class="line_number">897 </span>        <a href="#robo81">var_type</a> <span class="sign">=</span> json_unknown
<span class="line_number">898 </span>        n_children <span class="sign">=</span> 0
<span class="line_number">899 </span>
<span class="line_number">900 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">901 </span>
<span class="line_number">902 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">903 </span>    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">904 </span>
<span class="line_number">905 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_file_variable_info</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget"></a>
<a name="robo38"></a><h2>json_module/json_get [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get data from a <a href="#robo64">json_value</a> linked list.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">408 </span>    <span class="keyword">interface</span> <strong>json_get</strong>
<span class="line_number">409 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo40">json_get_by_path</a>
<span class="line_number">410 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo44">json_get_integer</a><span class="sign">,</span> <a href="#robo45">json_get_integer_vec</a>
<span class="line_number">411 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo42">json_get_double</a><span class="sign">,</span>  <a href="#robo43">json_get_double_vec</a>
<span class="line_number">412 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo46">json_get_logical</a><span class="sign">,</span> <a href="#robo47">json_get_logical_vec</a>
<span class="line_number">413 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo48">json_get_string</a><span class="sign">,</span>  <a href="#robo49">json_get_string_vec</a>
<span class="line_number">414 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo39">json_get_array</a>
<span class="line_number">415 </span>    <span class="keyword">end</span> <span class="keyword">interface</span> <strong>json_get</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5farray"></a>
<a name="robo39"></a><h2>json_module/json_get_array [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_array</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    This routine calls the user-supplied array_callback subroutine
        for each element in the array.
    Note: for integer, double, logical, and character arrays,
        a higher-level routine is provided (see <a href="#robo38">json_get</a>), so
        this routine does not have to be used for those cases.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3867 </span>    <span class="keyword">subroutine</span> <strong>json_get_array</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> array_callback<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3868 </span>
<span class="line_number">3869 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3870 </span>
<span class="line_number">3871 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>          <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3872 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3873 </span>    <span class="keyword">procedure</span><span class="sign">(</span>array_callback_func<span class="sign">)</span>               <span class="sign">:</span><span class="sign">:</span> array_callback
<span class="line_number">3874 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3875 </span>
<span class="line_number">3876 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> element<span class="sign">,</span>p
<span class="line_number">3877 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i<span class="sign">,</span> count
<span class="line_number">3878 </span>
<span class="line_number">3879 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3880 </span>
<span class="line_number">3881 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3882 </span>
<span class="line_number">3883 </span>        <span class="comment">! resolve the path to the value</span>
<span class="line_number">3884 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3885 </span>            <span class="keyword">call</span> <a href="#robo40">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3886 </span>        <span class="keyword">else</span>
<span class="line_number">3887 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3888 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3889 </span>
<span class="line_number">3890 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3891 </span>
<span class="line_number">3892 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_array</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3893 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3894 </span>
<span class="line_number">3895 </span>        <span class="keyword">else</span>
<span class="line_number">3896 </span>
<span class="line_number">3897 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>p<span class="sign">%</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">3898 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_array<span class="sign">)</span>
<span class="line_number">3899 </span>                count <span class="sign">=</span> <a href="#robo5">json_count</a><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3900 </span>                element <span class="sign">=</span><span class="sign">&gt;</span> p<span class="sign">%</span>children
<span class="line_number">3901 </span>                <span class="keyword">do</span> i <span class="sign">=</span> 1<span class="sign">,</span> count <span class="comment">! callback for each child</span>
<span class="line_number">3902 </span>                    <span class="keyword">call</span> array_callback<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> count<span class="sign">)</span>
<span class="line_number">3903 </span>                    element <span class="sign">=</span><span class="sign">&gt;</span> element<span class="sign">%</span>next
<span class="line_number">3904 </span>                <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">3905 </span>            <span class="keyword">case</span> default
<span class="line_number">3906 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_array</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3907 </span>                                     <span class="squote">' Resolved value is not an array. '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3908 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3909 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3910 </span>
<span class="line_number">3911 </span>            <span class="comment">!cleanup:</span>
<span class="line_number">3912 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span>       <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3913 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>element<span class="sign">)</span><span class="sign">)</span> <span class="keyword">nullify</span><span class="sign">(</span>element<span class="sign">)</span>
<span class="line_number">3914 </span>
<span class="line_number">3915 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3916 </span>
<span class="line_number">3917 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3918 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3919 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3920 </span>                <span class="keyword">call</span> <a href="#robo4">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3921 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3922 </span>        <span class="keyword">else</span>
<span class="line_number">3923 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3924 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3925 </span>
<span class="line_number">3926 </span>    <span class="keyword">else</span>
<span class="line_number">3927 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3928 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3929 </span>
<span class="line_number">3930 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_array</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fby5fpath"></a>
<a name="robo40"></a><h2>json_module/json_get_by_path [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_by_path</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>   call <a href="#robo38">json_get</a>(me,path,p,found)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns the <a href="#robo64">json_value</a> pointer given the path string.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>),pointer :: dat,p
    logical :: found
    ...
    call <a href="#robo38">json_get</a>(dat,'data(2).version',p,found)
</pre>
<p class="item_name">NOTES</p>
<pre>    The following special characters are used to denote paths:
     $         - root
     @         - this
     .         - child object member
     [] or ()  - child array element

    Thus, if any of these characters are present in the name key,
        this routine cannot be used to get the value.
    In that case, the <a href="#robo41">json_get_child</a> routines would need to be used.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2949 </span>    <span class="keyword">subroutine</span> <strong>json_get_by_path</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> p<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">2950 </span>
<span class="line_number">2951 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2952 </span>
<span class="line_number">2953 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">2954 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>  <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">2955 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">2956 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">2957 </span>    
<span class="line_number">2958 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span>1<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> start_array_alt <span class="sign">=</span> <span class="squote">'('</span>
<span class="line_number">2959 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span>1<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> end_array_alt   <span class="sign">=</span> <span class="squote">')'</span>
<span class="line_number">2960 </span>
<span class="line_number">2961 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i<span class="sign">,</span> length<span class="sign">,</span> child_i
<span class="line_number">2962 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span>1<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> c
<span class="line_number">2963 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> array
<span class="line_number">2964 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> tmp
<span class="line_number">2965 </span>
<span class="line_number">2966 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2967 </span>
<span class="line_number">2968 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">2969 </span>
<span class="line_number">2970 </span>        <span class="comment">! default to assuming relative to this</span>
<span class="line_number">2971 </span>        p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">2972 </span>
<span class="line_number">2973 </span>        child_i <span class="sign">=</span> 1
<span class="line_number">2974 </span>
<span class="line_number">2975 </span>        array <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">2976 </span>
<span class="line_number">2977 </span>        length <span class="sign">=</span> len_trim<span class="sign">(</span>path<span class="sign">)</span>
<span class="line_number">2978 </span>
<span class="line_number">2979 </span>        <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span> length
<span class="line_number">2980 </span>
<span class="line_number">2981 </span>            c <span class="sign">=</span> path<span class="sign">(</span>i<span class="sign">:</span>i<span class="sign">)</span>
<span class="line_number">2982 </span>
<span class="line_number">2983 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>c<span class="sign">)</span>
<span class="line_number">2984 </span>            <span class="keyword">case</span> <span class="sign">(</span><span class="squote">'$'</span><span class="sign">)</span>
<span class="line_number">2985 </span>
<span class="line_number">2986 </span>                <span class="comment">! root</span>
<span class="line_number">2987 </span>                <span class="keyword">do</span> <span class="keyword">while</span> <span class="sign">(</span><span class="keyword">associated</span> <span class="sign">(</span>p<span class="sign">%</span>parent<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">2988 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> p<span class="sign">%</span>parent
<span class="line_number">2989 </span>                <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2990 </span>                child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">2991 </span>
<span class="line_number">2992 </span>            <span class="keyword">case</span> <span class="sign">(</span><span class="squote">'@'</span><span class="sign">)</span>
<span class="line_number">2993 </span>
<span class="line_number">2994 </span>                <span class="comment">! this</span>
<span class="line_number">2995 </span>                p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">2996 </span>                child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">2997 </span>
<span class="line_number">2998 </span>            <span class="keyword">case</span> <span class="sign">(</span><span class="squote">'.'</span><span class="sign">)</span>
<span class="line_number">2999 </span>
<span class="line_number">3000 </span>                <span class="comment">! get child member from p</span>
<span class="line_number">3001 </span>                <span class="keyword">if</span> <span class="sign">(</span>child_i <span class="sign">&lt;</span> i<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3002 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3003 </span>                    <span class="keyword">call</span> <a href="#robo41">json_get_child</a><span class="sign">(</span>p<span class="sign">,</span> path<span class="sign">(</span>child_i<span class="sign">:</span>i<span class="sign">-</span>1<span class="sign">)</span><span class="sign">,</span> tmp<span class="sign">)</span>
<span class="line_number">3004 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> tmp
<span class="line_number">3005 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3006 </span>                <span class="keyword">else</span>
<span class="line_number">3007 </span>                    child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3008 </span>                    <span class="keyword">cycle</span>
<span class="line_number">3009 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3010 </span>
<span class="line_number">3011 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3012 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_by_path</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3013 </span>                                         <span class="squote">' Error getting child member.'</span><span class="sign">)</span>
<span class="line_number">3014 </span>                    <span class="keyword">exit</span>
<span class="line_number">3015 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3016 </span>
<span class="line_number">3017 </span>                child_i <span class="sign">=</span> i<span class="sign">+</span>1
<span class="line_number">3018 </span>
<span class="line_number">3019 </span>            <span class="keyword">case</span> <span class="sign">(</span>start_array<span class="sign">,</span>start_array_alt<span class="sign">)</span>
<span class="line_number">3020 </span>
<span class="line_number">3021 </span>                <span class="comment">!....Modified to allow for 'var[3]' style syntax</span>
<span class="line_number">3022 </span>                <span class="comment">!Note: jmozmoz/fson has a slightly different version of this...</span>
<span class="line_number">3023 </span>
<span class="line_number">3024 </span>                <span class="comment">! start looking for the array element index</span>
<span class="line_number">3025 </span>                array <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3026 </span>
<span class="line_number">3027 </span>                <span class="comment">! get child member from p</span>
<span class="line_number">3028 </span>                <span class="keyword">if</span> <span class="sign">(</span>child_i <span class="sign">&lt;</span> i<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3029 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3030 </span>                    <span class="keyword">call</span> <a href="#robo41">json_get_child</a><span class="sign">(</span>p<span class="sign">,</span> path<span class="sign">(</span>child_i<span class="sign">:</span>i<span class="sign">-</span>1<span class="sign">)</span><span class="sign">,</span> tmp<span class="sign">)</span>
<span class="line_number">3031 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> tmp
<span class="line_number">3032 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3033 </span>                <span class="keyword">else</span>
<span class="line_number">3034 </span>                    child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3035 </span>                    <span class="keyword">cycle</span>
<span class="line_number">3036 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3037 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3038 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_by_path</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3039 </span>                                         <span class="squote">' Error getting array element'</span><span class="sign">)</span>
<span class="line_number">3040 </span>                    <span class="keyword">exit</span>
<span class="line_number">3041 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3042 </span>                child_i <span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3043 </span>
<span class="line_number">3044 </span>            <span class="keyword">case</span> <span class="sign">(</span>end_array<span class="sign">,</span>end_array_alt<span class="sign">)</span>
<span class="line_number">3045 </span>
<span class="line_number">3046 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span>array<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3047 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_by_path</strong>: Unexpected ]'</span><span class="sign">)</span>
<span class="line_number">3048 </span>                    <span class="keyword">exit</span>
<span class="line_number">3049 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3050 </span>                array <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3051 </span>                child_i <span class="sign">=</span> string_to_integer<span class="sign">(</span>path<span class="sign">(</span>child_i<span class="sign">:</span>i<span class="sign">-</span>1<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3052 </span>
<span class="line_number">3053 </span>                <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3054 </span>                <span class="keyword">call</span> <a href="#robo41">json_get_child</a><span class="sign">(</span>p<span class="sign">,</span> child_i<span class="sign">,</span> tmp<span class="sign">)</span>
<span class="line_number">3055 </span>                p <span class="sign">=</span><span class="sign">&gt;</span> tmp
<span class="line_number">3056 </span>                <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3057 </span>
<span class="line_number">3058 </span>                child_i<span class="sign">=</span> i <span class="sign">+</span> 1
<span class="line_number">3059 </span>
<span class="line_number">3060 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3061 </span>
<span class="line_number">3062 </span>        <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">3063 </span>
<span class="line_number">3064 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3065 </span>
<span class="line_number">3066 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3067 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3068 </span>                <span class="keyword">call</span> <a href="#robo4">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3069 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3070 </span>
<span class="line_number">3071 </span>        <span class="keyword">else</span>
<span class="line_number">3072 </span>
<span class="line_number">3073 </span>            <span class="comment">! grab the last child if present in the path</span>
<span class="line_number">3074 </span>            <span class="keyword">if</span> <span class="sign">(</span>child_i <span class="sign">&lt;</span><span class="sign">=</span> length<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3075 </span>                <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3076 </span>                <span class="keyword">call</span> <a href="#robo41">json_get_child</a><span class="sign">(</span>p<span class="sign">,</span> path<span class="sign">(</span>child_i<span class="sign">:</span>i<span class="sign">-</span>1<span class="sign">)</span><span class="sign">,</span> tmp<span class="sign">)</span>
<span class="line_number">3077 </span>                p <span class="sign">=</span><span class="sign">&gt;</span> tmp
<span class="line_number">3078 </span>                <span class="keyword">nullify</span><span class="sign">(</span>tmp<span class="sign">)</span>
<span class="line_number">3079 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3080 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3081 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>    <span class="comment">!everything seems to be ok</span>
<span class="line_number">3082 </span>            <span class="keyword">else</span>
<span class="line_number">3083 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_by_path</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3084 </span>                                     <span class="squote">' variable not found: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3085 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3086 </span>                    found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3087 </span>                    <span class="keyword">call</span> <a href="#robo4">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3088 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3089 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3090 </span>            
<span class="line_number">3091 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3092 </span>
<span class="line_number">3093 </span>    <span class="keyword">else</span>
<span class="line_number">3094 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3095 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3096 </span>
<span class="line_number">3097 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_by_path</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fchild"></a>
<a name="robo41"></a><h2>json_module/json_get_child [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_child</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a child, either by index or name string.
    Both of these return a <a href="#robo64">json_value</a> pointer.
</pre>
<p class="item_name">NOTES</p>
<pre>    Formerly, this was called json_value_get_child
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">344 </span>    <span class="keyword">interface</span> <strong>json_get_child</strong>
<span class="line_number">345 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <a href="#robo75">json_value_get_by_index</a>
<span class="line_number">346 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <a href="#robo76">json_value_get_by_name_chars</a>
<span class="line_number">347 </span>    <span class="keyword">end</span> <span class="keyword">interface</span> <strong>json_get_child</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fdouble"></a>
<a name="robo42"></a><h2>json_module/json_get_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_double</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a double value from a <a href="#robo64">json_value</a>.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3324 </span>    <span class="keyword">subroutine</span> <strong>json_get_double</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3325 </span>
<span class="line_number">3326 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3327 </span>
<span class="line_number">3328 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>           <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3329 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span> <span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3330 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>               <span class="sign">:</span><span class="sign">:</span> <span class="keyword">value</span>
<span class="line_number">3331 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>   <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3332 </span>
<span class="line_number">3333 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">3334 </span>
<span class="line_number">3335 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3336 </span>
<span class="line_number">3337 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3338 </span>
<span class="line_number">3339 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3340 </span>            <span class="keyword">call</span> <a href="#robo40">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3341 </span>        <span class="keyword">else</span>
<span class="line_number">3342 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3343 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3344 </span>
<span class="line_number">3345 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3346 </span>
<span class="line_number">3347 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_double</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3348 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3349 </span>
<span class="line_number">3350 </span>        <span class="keyword">else</span>
<span class="line_number">3351 </span>
<span class="line_number">3352 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>p<span class="sign">%</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">3353 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_integer<span class="sign">)</span>
<span class="line_number">3354 </span>                <span class="keyword">value</span> <span class="sign">=</span> p<span class="sign">%</span>int_value
<span class="line_number">3355 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_double<span class="sign">)</span>
<span class="line_number">3356 </span>                <span class="keyword">value</span> <span class="sign">=</span> p<span class="sign">%</span>dbl_value
<span class="line_number">3357 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_logical<span class="sign">)</span>
<span class="line_number">3358 </span>                <span class="keyword">if</span> <span class="sign">(</span>p<span class="sign">%</span>log_value<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3359 </span>                    <span class="keyword">value</span> <span class="sign">=</span> 1<span class="sign">.</span>0_RK
<span class="line_number">3360 </span>                <span class="keyword">else</span>
<span class="line_number">3361 </span>                    <span class="keyword">value</span> <span class="sign">=</span> 0<span class="sign">.</span>0_RK
<span class="line_number">3362 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3363 </span>            <span class="keyword">case</span> default
<span class="line_number">3364 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_double</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3365 </span>                                     <span class="squote">' Unable to resolve value to double: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3366 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3367 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3368 </span>
<span class="line_number">3369 </span>            <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3370 </span>
<span class="line_number">3371 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3372 </span>
<span class="line_number">3373 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3374 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3375 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3376 </span>                <span class="keyword">call</span> <a href="#robo4">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3377 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3378 </span>        <span class="keyword">else</span>
<span class="line_number">3379 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3380 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3381 </span>
<span class="line_number">3382 </span>    <span class="keyword">else</span>
<span class="line_number">3383 </span>
<span class="line_number">3384 </span>        <span class="keyword">value</span> <span class="sign">=</span> 0<span class="sign">.</span>0_RK
<span class="line_number">3385 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3386 </span>
<span class="line_number">3387 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3388 </span>
<span class="line_number">3389 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fdouble5fvec"></a>
<a name="robo43"></a><h2>json_module/json_get_double_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_double_vec</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a double vector from a JSON value.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 5/14/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3406 </span>    <span class="keyword">subroutine</span> <strong>json_get_double_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3407 </span>
<span class="line_number">3408 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3409 </span>
<span class="line_number">3410 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>                      <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">3411 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>           <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3412 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">3413 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>              <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3414 </span>
<span class="line_number">3415 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> initialized
<span class="line_number">3416 </span>
<span class="line_number">3417 </span>    initialized <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3418 </span>
<span class="line_number">3419 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>vec<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>vec<span class="sign">)</span>
<span class="line_number">3420 </span>
<span class="line_number">3421 </span>    <span class="comment">!the callback function is called for each element of the array:</span>
<span class="line_number">3422 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> array_callback<span class="sign">=</span>get_double_from_array<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">3423 </span>
<span class="line_number">3424 </span>    <span class="keyword">contains</span>
<span class="line_number">3425 </span>
<span class="line_number">3426 </span>        <span class="comment">! callback function for double</span>
<span class="line_number">3427 </span>        <span class="keyword">subroutine</span> get_double_from_array<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> count<span class="sign">)</span>
<span class="line_number">3428 </span>        <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3429 </span>
<span class="line_number">3430 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> element
<span class="line_number">3431 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> i        <span class="comment">!index</span>
<span class="line_number">3432 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> count    <span class="comment">!size of array</span>
<span class="line_number">3433 </span>
<span class="line_number">3434 </span>        <span class="comment">!size the output array:</span>
<span class="line_number">3435 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> initialized<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3436 </span>            <span class="keyword">allocate</span><span class="sign">(</span>vec<span class="sign">(</span>count<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3437 </span>            initialized <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3438 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3439 </span>
<span class="line_number">3440 </span>        <span class="comment">!populate the elements:</span>
<span class="line_number">3441 </span>        <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>element<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>vec<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3442 </span>
<span class="line_number">3443 </span>        <span class="keyword">end</span> <span class="keyword">subroutine</span> get_double_from_array
<span class="line_number">3444 </span>
<span class="line_number">3445 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_double_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5finteger"></a>
<a name="robo44"></a><h2>json_module/json_get_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_integer</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get an integer value from a <a href="#robo64">json_value</a>.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3190 </span>    <span class="keyword">subroutine</span> <strong>json_get_integer</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3191 </span>
<span class="line_number">3192 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3193 </span>
<span class="line_number">3194 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3195 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>   <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3196 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> <span class="keyword">value</span>
<span class="line_number">3197 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>    <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3198 </span>
<span class="line_number">3199 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">3200 </span>
<span class="line_number">3201 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3202 </span>
<span class="line_number">3203 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3204 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3205 </span>            <span class="keyword">call</span> <a href="#robo40">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3206 </span>        <span class="keyword">else</span>
<span class="line_number">3207 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3208 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3209 </span>
<span class="line_number">3210 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3211 </span>
<span class="line_number">3212 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_integer</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3213 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span> <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3214 </span>
<span class="line_number">3215 </span>        <span class="keyword">else</span>
<span class="line_number">3216 </span>
<span class="line_number">3217 </span>            <span class="keyword">select</span> <span class="keyword">case</span><span class="sign">(</span>p<span class="sign">%</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">3218 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_integer<span class="sign">)</span>
<span class="line_number">3219 </span>                <span class="keyword">value</span> <span class="sign">=</span> p<span class="sign">%</span>int_value
<span class="line_number">3220 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_double<span class="sign">)</span>
<span class="line_number">3221 </span>                <span class="keyword">value</span> <span class="sign">=</span> int<span class="sign">(</span>p<span class="sign">%</span>dbl_value<span class="sign">)</span>
<span class="line_number">3222 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_logical<span class="sign">)</span>
<span class="line_number">3223 </span>                <span class="keyword">if</span> <span class="sign">(</span>p<span class="sign">%</span>log_value<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3224 </span>                    <span class="keyword">value</span> <span class="sign">=</span> 1
<span class="line_number">3225 </span>                <span class="keyword">else</span>
<span class="line_number">3226 </span>                    <span class="keyword">value</span> <span class="sign">=</span> 0
<span class="line_number">3227 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3228 </span>            <span class="keyword">case</span> default
<span class="line_number">3229 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in get_integer:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3230 </span>                                     <span class="squote">' Unable to resolve value to integer: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3231 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3232 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3233 </span>
<span class="line_number">3234 </span>            <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3235 </span>
<span class="line_number">3236 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3237 </span>
<span class="line_number">3238 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3239 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3240 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3241 </span>                <span class="keyword">call</span> <a href="#robo4">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3242 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3243 </span>        <span class="keyword">else</span>
<span class="line_number">3244 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3245 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3246 </span>
<span class="line_number">3247 </span>    <span class="keyword">else</span>
<span class="line_number">3248 </span>
<span class="line_number">3249 </span>        <span class="keyword">value</span> <span class="sign">=</span> 0
<span class="line_number">3250 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3251 </span>
<span class="line_number">3252 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3253 </span>
<span class="line_number">3254 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5finteger5fvec"></a>
<a name="robo45"></a><h2>json_module/json_get_integer_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_integer_vec</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get an integer vector from a JSON value.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 5/14/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3271 </span>    <span class="keyword">subroutine</span> <strong>json_get_integer_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3272 </span>
<span class="line_number">3273 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3274 </span>
<span class="line_number">3275 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>                         <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">3276 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3277 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">3278 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3279 </span>
<span class="line_number">3280 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> initialized
<span class="line_number">3281 </span>
<span class="line_number">3282 </span>    initialized <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3283 </span>
<span class="line_number">3284 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>vec<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>vec<span class="sign">)</span>
<span class="line_number">3285 </span>
<span class="line_number">3286 </span>    <span class="comment">!the callback function is called for each element of the array:</span>
<span class="line_number">3287 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> array_callback<span class="sign">=</span>get_int_from_array<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">3288 </span>
<span class="line_number">3289 </span>    <span class="keyword">contains</span>
<span class="line_number">3290 </span>
<span class="line_number">3291 </span>        <span class="comment">! callback function for integer</span>
<span class="line_number">3292 </span>        <span class="keyword">subroutine</span> get_int_from_array<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> count<span class="sign">)</span>
<span class="line_number">3293 </span>        <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3294 </span>
<span class="line_number">3295 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> element
<span class="line_number">3296 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> i        <span class="comment">!index</span>
<span class="line_number">3297 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> count    <span class="comment">!size of array</span>
<span class="line_number">3298 </span>
<span class="line_number">3299 </span>        <span class="comment">!size the output array:</span>
<span class="line_number">3300 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> initialized<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3301 </span>            <span class="keyword">allocate</span><span class="sign">(</span>vec<span class="sign">(</span>count<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3302 </span>            initialized <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3303 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3304 </span>
<span class="line_number">3305 </span>        <span class="comment">!populate the elements:</span>
<span class="line_number">3306 </span>        <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>element<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>vec<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3307 </span>
<span class="line_number">3308 </span>        <span class="keyword">end</span> <span class="keyword">subroutine</span> get_int_from_array
<span class="line_number">3309 </span>
<span class="line_number">3310 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_integer_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5flogical"></a>
<a name="robo46"></a><h2>json_module/json_get_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_logical</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a logical value from a <a href="#robo64">json_value</a>.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3459 </span>    <span class="keyword">subroutine</span> <strong>json_get_logical</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3460 </span>
<span class="line_number">3461 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3462 </span>
<span class="line_number">3463 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3464 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>   <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3465 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span>                         <span class="sign">:</span><span class="sign">:</span> <span class="keyword">value</span>
<span class="line_number">3466 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>    <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3467 </span>
<span class="line_number">3468 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">3469 </span>
<span class="line_number">3470 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3471 </span>
<span class="line_number">3472 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3473 </span>
<span class="line_number">3474 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3475 </span>            <span class="keyword">call</span> <a href="#robo40">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3476 </span>        <span class="keyword">else</span>
<span class="line_number">3477 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3478 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3479 </span>
<span class="line_number">3480 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3481 </span>
<span class="line_number">3482 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_logical</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3483 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3484 </span>
<span class="line_number">3485 </span>        <span class="keyword">else</span>
<span class="line_number">3486 </span>
<span class="line_number">3487 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>p<span class="sign">%</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">3488 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_integer<span class="sign">)</span>
<span class="line_number">3489 </span>                <span class="keyword">value</span> <span class="sign">=</span> <span class="sign">(</span>p<span class="sign">%</span>int_value <span class="sign">&gt;</span> 0<span class="sign">)</span>
<span class="line_number">3490 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_logical<span class="sign">)</span>
<span class="line_number">3491 </span>                <span class="keyword">value</span> <span class="sign">=</span> p <span class="sign">%</span> log_value
<span class="line_number">3492 </span>            <span class="keyword">case</span> default
<span class="line_number">3493 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_logical</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3494 </span>                                     <span class="squote">' Unable to resolve value to logical: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3495 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3496 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3497 </span>
<span class="line_number">3498 </span>            <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3499 </span>
<span class="line_number">3500 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3501 </span>
<span class="line_number">3502 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3503 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3504 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3505 </span>                <span class="keyword">call</span> <a href="#robo4">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3506 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3507 </span>        <span class="keyword">else</span>
<span class="line_number">3508 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3509 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3510 </span>
<span class="line_number">3511 </span>    <span class="keyword">else</span>
<span class="line_number">3512 </span>
<span class="line_number">3513 </span>        <span class="keyword">value</span> <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3514 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3515 </span>
<span class="line_number">3516 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3517 </span>
<span class="line_number">3518 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5flogical5fvec"></a>
<a name="robo47"></a><h2>json_module/json_get_logical_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_logical_vec</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a logical vector from a JSON value.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 5/14/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3535 </span>    <span class="keyword">subroutine</span> <strong>json_get_logical_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3536 </span>
<span class="line_number">3537 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3538 </span>
<span class="line_number">3539 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">3540 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3541 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">3542 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3543 </span>
<span class="line_number">3544 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> initialized
<span class="line_number">3545 </span>
<span class="line_number">3546 </span>    initialized <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3547 </span>
<span class="line_number">3548 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>vec<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>vec<span class="sign">)</span>
<span class="line_number">3549 </span>
<span class="line_number">3550 </span>    <span class="comment">!the callback function is called for each element of the array:</span>
<span class="line_number">3551 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> array_callback<span class="sign">=</span>get_logical_from_array<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">3552 </span>
<span class="line_number">3553 </span>    <span class="keyword">contains</span>
<span class="line_number">3554 </span>
<span class="line_number">3555 </span>        <span class="comment">! callback function for logical</span>
<span class="line_number">3556 </span>        <span class="keyword">subroutine</span> get_logical_from_array<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> count<span class="sign">)</span>
<span class="line_number">3557 </span>        <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3558 </span>
<span class="line_number">3559 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> element
<span class="line_number">3560 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> i        <span class="comment">!index</span>
<span class="line_number">3561 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> count    <span class="comment">!size of array</span>
<span class="line_number">3562 </span>
<span class="line_number">3563 </span>        <span class="comment">!size the output array:</span>
<span class="line_number">3564 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> initialized<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3565 </span>            <span class="keyword">allocate</span><span class="sign">(</span>vec<span class="sign">(</span>count<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3566 </span>            initialized <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3567 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3568 </span>
<span class="line_number">3569 </span>        <span class="comment">!populate the elements:</span>
<span class="line_number">3570 </span>        <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>element<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>vec<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3571 </span>
<span class="line_number">3572 </span>        <span class="keyword">end</span> <span class="keyword">subroutine</span> get_logical_from_array
<span class="line_number">3573 </span>
<span class="line_number">3574 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_logical_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fstring"></a>
<a name="robo48"></a><h2>json_module/json_get_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_string</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a character string from a <a href="#robo64">json_value</a>.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3588 </span>    <span class="keyword">subroutine</span> <strong>json_get_string</strong><span class="sign">(</span>this<span class="sign">,</span> path<span class="sign">,</span> <span class="keyword">value</span><span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3589 </span>
<span class="line_number">3590 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3591 </span>
<span class="line_number">3592 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">3593 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>     <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3594 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <span class="keyword">value</span>
<span class="line_number">3595 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                 <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3596 </span>
<span class="line_number">3597 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">3598 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> s<span class="sign">,</span>pre<span class="sign">,</span>post
<span class="line_number">3599 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> j<span class="sign">,</span>jprev<span class="sign">,</span>n
<span class="line_number">3600 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span>1<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> c
<span class="line_number">3601 </span>
<span class="line_number">3602 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3603 </span>
<span class="line_number">3604 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3605 </span>
<span class="line_number">3606 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3607 </span>            <span class="keyword">call</span> <a href="#robo40">json_get_by_path</a><span class="sign">(</span>this<span class="sign">=</span>this<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> p<span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">3608 </span>        <span class="keyword">else</span>
<span class="line_number">3609 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">3610 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3611 </span>
<span class="line_number">3612 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3613 </span>
<span class="line_number">3614 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3615 </span>                                 <span class="squote">' Unable to resolve path: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3616 </span>
<span class="line_number">3617 </span>        <span class="keyword">else</span>
<span class="line_number">3618 </span>
<span class="line_number">3619 </span>            <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>p<span class="sign">%</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">3620 </span>            
<span class="line_number">3621 </span>            <span class="keyword">case</span> <span class="sign">(</span>json_string<span class="sign">)</span>
<span class="line_number">3622 </span>            
<span class="line_number">3623 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>p<span class="sign">%</span>str_value<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3624 </span>
<span class="line_number">3625 </span>                    <span class="comment">!get the value as is:</span>
<span class="line_number">3626 </span>                    s <span class="sign">=</span> p<span class="sign">%</span>str_value
<span class="line_number">3627 </span>
<span class="line_number">3628 </span>                    <span class="comment">! Now, have to remove the escape characters:</span>
<span class="line_number">3629 </span>                    <span class="comment">!</span>
<span class="line_number">3630 </span>                    <span class="comment">! '\"'        quotation mark</span>
<span class="line_number">3631 </span>                    <span class="comment">! '\\'        reverse solidus</span>
<span class="line_number">3632 </span>                    <span class="comment">! '\/'        solidus</span>
<span class="line_number">3633 </span>                    <span class="comment">! '\b'        backspace</span>
<span class="line_number">3634 </span>                    <span class="comment">! '\f'        formfeed</span>
<span class="line_number">3635 </span>                    <span class="comment">! '\n'        newline (LF)</span>
<span class="line_number">3636 </span>                    <span class="comment">! '\r'        carriage return (CR)</span>
<span class="line_number">3637 </span>                    <span class="comment">! '\t'        horizontal tab</span>
<span class="line_number">3638 </span>                    <span class="comment">! '\uXXXX'    4 hexadecimal digits</span>
<span class="line_number">3639 </span>                    <span class="comment">!</span>
<span class="line_number">3640 </span>
<span class="line_number">3641 </span>                    <span class="comment">!initialize:</span>
<span class="line_number">3642 </span>                    n <span class="sign">=</span> len<span class="sign">(</span>s<span class="sign">)</span>
<span class="line_number">3643 </span>                    j <span class="sign">=</span> 1
<span class="line_number">3644 </span>
<span class="line_number">3645 </span>                    <span class="keyword">do</span>
<span class="line_number">3646 </span>
<span class="line_number">3647 </span>                        jprev <span class="sign">=</span> j                      <span class="comment">!initialize</span>
<span class="line_number">3648 </span>                        j <span class="sign">=</span> index<span class="sign">(</span>s<span class="sign">(</span>j<span class="sign">:</span>n<span class="sign">)</span><span class="sign">,</span>backslash<span class="sign">)</span>    <span class="comment">!look for an escape character</span>
<span class="line_number">3649 </span>
<span class="line_number">3650 </span>                        <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">&gt;</span>0<span class="sign">)</span> <span class="keyword">then</span>            <span class="comment">!an escape character was found</span>
<span class="line_number">3651 </span>                        
<span class="line_number">3652 </span>                            <span class="comment">!index in full string of the escape character:</span>
<span class="line_number">3653 </span>                            j <span class="sign">=</span> j <span class="sign">+</span> <span class="sign">(</span>jprev<span class="sign">-</span>1<span class="sign">)</span>   
<span class="line_number">3654 </span>
<span class="line_number">3655 </span>                            <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">&lt;</span>n<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3656 </span>
<span class="line_number">3657 </span>                                <span class="comment">!save the bit before the escape character:</span>
<span class="line_number">3658 </span>                                <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">&gt;</span>1<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3659 </span>                                    pre <span class="sign">=</span> s<span class="sign">(</span> 1 <span class="sign">:</span> j<span class="sign">-</span>1 <span class="sign">)</span>
<span class="line_number">3660 </span>                                <span class="keyword">else</span>
<span class="line_number">3661 </span>                                    pre <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">3662 </span>                                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3663 </span>
<span class="line_number">3664 </span>                                <span class="comment">!character after the escape character:</span>
<span class="line_number">3665 </span>                                c <span class="sign">=</span> s<span class="sign">(</span> j<span class="sign">+</span>1 <span class="sign">:</span> j<span class="sign">+</span>1 <span class="sign">)</span>
<span class="line_number">3666 </span>
<span class="line_number">3667 </span>                                <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span>c<span class="sign">)</span>
<span class="line_number">3668 </span>                                <span class="keyword">case</span><span class="sign">(</span>quotation_mark<span class="sign">,</span>backslash<span class="sign">,</span>slash<span class="sign">,</span><span class="sign">&amp;</span>
<span class="line_number">3669 </span>                                     <span class="squote">'b'</span><span class="sign">,</span><span class="squote">'f'</span><span class="sign">,</span><span class="squote">'n'</span><span class="sign">,</span><span class="squote">'r'</span><span class="sign">,</span><span class="squote">'t'</span><span class="sign">)</span>
<span class="line_number">3670 </span>
<span class="line_number">3671 </span>                                    <span class="comment">!save the bit after the escape characters:</span>
<span class="line_number">3672 </span>                                    <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">+</span>2<span class="sign">&lt;</span>n<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3673 </span>                                        post <span class="sign">=</span> s<span class="sign">(</span>j<span class="sign">+</span>2<span class="sign">:</span>n<span class="sign">)</span>
<span class="line_number">3674 </span>                                    <span class="keyword">else</span>
<span class="line_number">3675 </span>                                        post <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">3676 </span>                                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3677 </span>
<span class="line_number">3678 </span>                                    <span class="keyword">select</span> <span class="keyword">case</span><span class="sign">(</span>c<span class="sign">)</span>
<span class="line_number">3679 </span>                                    <span class="keyword">case</span><span class="sign">(</span>quotation_mark<span class="sign">,</span>backslash<span class="sign">,</span>slash<span class="sign">)</span>
<span class="line_number">3680 </span>                                        <span class="comment">!use c as is</span>
<span class="line_number">3681 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'b'</span><span class="sign">)</span>
<span class="line_number">3682 </span>                                        c <span class="sign">=</span> bspace
<span class="line_number">3683 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'f'</span><span class="sign">)</span>
<span class="line_number">3684 </span>                                        c <span class="sign">=</span> formfeed
<span class="line_number">3685 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'n'</span><span class="sign">)</span>
<span class="line_number">3686 </span>                                        c <span class="sign">=</span> newline
<span class="line_number">3687 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'r'</span><span class="sign">)</span>
<span class="line_number">3688 </span>                                        c <span class="sign">=</span> carriage_return
<span class="line_number">3689 </span>                                    <span class="keyword">case</span><span class="sign">(</span><span class="squote">'t'</span><span class="sign">)</span>
<span class="line_number">3690 </span>                                        c <span class="sign">=</span> horizontal_tab
<span class="line_number">3691 </span>                                    <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3692 </span>
<span class="line_number">3693 </span>                                    s <span class="sign">=</span> pre<span class="sign">/</span><span class="sign">/</span>c<span class="sign">/</span><span class="sign">/</span>post
<span class="line_number">3694 </span>
<span class="line_number">3695 </span>                                    n <span class="sign">=</span> n<span class="sign">-</span>1    <span class="comment">!backslash character has been </span>
<span class="line_number">3696 </span>                                               <span class="comment">! removed from the string</span>
<span class="line_number">3697 </span>
<span class="line_number">3698 </span>                                <span class="keyword">case</span><span class="sign">(</span><span class="squote">'u'</span><span class="sign">)</span>    <span class="comment">!expecting 4 hexadecimal digits after </span>
<span class="line_number">3699 </span>                                             <span class="comment">! the escape character    [\uXXXX]</span>
<span class="line_number">3700 </span>
<span class="line_number">3701 </span>                                    <span class="comment">!for now, we are just printing them as is</span>
<span class="line_number">3702 </span>                                    <span class="comment">![not checking to see if it is a valid hex value]</span>
<span class="line_number">3703 </span>
<span class="line_number">3704 </span>                                    <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">+</span>5<span class="sign">&lt;</span><span class="sign">=</span>n<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3705 </span>                                        j<span class="sign">=</span>j<span class="sign">+</span>4
<span class="line_number">3706 </span>                                    <span class="keyword">else</span>
<span class="line_number">3707 </span>                                        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="sign">&amp;</span>
<span class="line_number">3708 </span>                                            <span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3709 </span>                                            <span class="squote">' Invalid hexadecimal sequence'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3710 </span>                                            <span class="squote">' in string: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>c<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3711 </span>                                        <span class="keyword">exit</span>
<span class="line_number">3712 </span>                                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3713 </span>
<span class="line_number">3714 </span>                                <span class="keyword">case</span> default
<span class="line_number">3715 </span>                                    <span class="comment">!unknown escape character</span>
<span class="line_number">3716 </span>                                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3717 </span>                                            <span class="squote">' unknown escape sequence in string "'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3718 </span>                                            <span class="keyword">trim</span><span class="sign">(</span>s<span class="sign">)</span><span class="sign">/</span><span class="sign">/</span><span class="squote">'" ['</span><span class="sign">/</span><span class="sign">/</span>backslash<span class="sign">/</span><span class="sign">/</span>c<span class="sign">/</span><span class="sign">/</span><span class="squote">']'</span><span class="sign">)</span>
<span class="line_number">3719 </span>                                    <span class="keyword">exit</span>
<span class="line_number">3720 </span>                                <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3721 </span>
<span class="line_number">3722 </span>                                j<span class="sign">=</span>j<span class="sign">+</span>1    <span class="comment">!go to the next character</span>
<span class="line_number">3723 </span>
<span class="line_number">3724 </span>                                <span class="keyword">if</span> <span class="sign">(</span>j<span class="sign">&gt;</span><span class="sign">=</span>n<span class="sign">)</span> <span class="keyword">exit</span>    <span class="comment">!finished</span>
<span class="line_number">3725 </span>
<span class="line_number">3726 </span>                            <span class="keyword">else</span>
<span class="line_number">3727 </span>                                <span class="comment">!an escape character is the last character in </span>
<span class="line_number">3728 </span>                                <span class="comment">! the string [this may not be valid syntax, </span>
<span class="line_number">3729 </span>                                <span class="comment">! but just keep it]</span>
<span class="line_number">3730 </span>                                <span class="keyword">exit</span>
<span class="line_number">3731 </span>                            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3732 </span>
<span class="line_number">3733 </span>                        <span class="keyword">else</span>
<span class="line_number">3734 </span>                            <span class="keyword">exit</span>    <span class="comment">!no more escape characters in the string</span>
<span class="line_number">3735 </span>                        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3736 </span>
<span class="line_number">3737 </span>                    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">3738 </span>
<span class="line_number">3739 </span>                    <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3740 </span>                        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span><span class="keyword">value</span><span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span><span class="keyword">value</span><span class="sign">)</span>
<span class="line_number">3741 </span>                    <span class="keyword">else</span>
<span class="line_number">3742 </span>                        <span class="keyword">value</span> <span class="sign">=</span> s
<span class="line_number">3743 </span>                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3744 </span>
<span class="line_number">3745 </span>                <span class="keyword">else</span>
<span class="line_number">3746 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3747 </span>                                         <span class="squote">' p%value not allocated'</span><span class="sign">)</span>
<span class="line_number">3748 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3749 </span>
<span class="line_number">3750 </span>            <span class="keyword">case</span> default
<span class="line_number">3751 </span>
<span class="line_number">3752 </span>                <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_get_string</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3753 </span>                                     <span class="squote">' Unable to resolve value to characters: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">3754 </span>                                     <span class="keyword">trim</span><span class="sign">(</span>path<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3755 </span>
<span class="line_number">3756 </span>                <span class="comment">! Note: for the other cases, we could do val to string conversions.</span>
<span class="line_number">3757 </span>
<span class="line_number">3758 </span>            <span class="keyword">end</span> <span class="keyword">select</span>
<span class="line_number">3759 </span>
<span class="line_number">3760 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3761 </span>
<span class="line_number">3762 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span><span class="keyword">value</span><span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3763 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> found <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3764 </span>        <span class="keyword">else</span>
<span class="line_number">3765 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>found<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3766 </span>                found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3767 </span>                <span class="keyword">call</span> <a href="#robo4">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3768 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3769 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3770 </span>
<span class="line_number">3771 </span>        <span class="comment">!cleanup:</span>
<span class="line_number">3772 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">)</span><span class="sign">)</span> <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">3773 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>s<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>s<span class="sign">)</span>
<span class="line_number">3774 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>pre<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>pre<span class="sign">)</span>
<span class="line_number">3775 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>post<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>post<span class="sign">)</span>
<span class="line_number">3776 </span>
<span class="line_number">3777 </span>    <span class="keyword">else</span>
<span class="line_number">3778 </span>
<span class="line_number">3779 </span>        <span class="keyword">value</span> <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">3780 </span>        found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3781 </span>
<span class="line_number">3782 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3783 </span>
<span class="line_number">3784 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fget5fstring5fvec"></a>
<a name="robo49"></a><h2>json_module/json_get_string_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_get_string_vec</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Get a string vector from a JSON file.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 5/14/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3801 </span>    <span class="keyword">subroutine</span> <strong>json_get_string_vec</strong><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">,</span> vec<span class="sign">,</span> found<span class="sign">)</span>
<span class="line_number">3802 </span>
<span class="line_number">3803 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3804 </span>
<span class="line_number">3805 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                           <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">3806 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                           <span class="sign">:</span><span class="sign">:</span> path
<span class="line_number">3807 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> vec
<span class="line_number">3808 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                              <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">3809 </span>
<span class="line_number">3810 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> initialized
<span class="line_number">3811 </span>
<span class="line_number">3812 </span>    initialized <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">3813 </span>
<span class="line_number">3814 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>vec<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>vec<span class="sign">)</span>
<span class="line_number">3815 </span>
<span class="line_number">3816 </span>    <span class="comment">!the callback function is called for each element of the array:</span>
<span class="line_number">3817 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>me<span class="sign">,</span> path<span class="sign">=</span>path<span class="sign">,</span> array_callback<span class="sign">=</span>get_chars_from_array<span class="sign">,</span> found<span class="sign">=</span>found<span class="sign">)</span>
<span class="line_number">3818 </span>
<span class="line_number">3819 </span>    <span class="keyword">contains</span>
<span class="line_number">3820 </span>
<span class="line_number">3821 </span>        <span class="comment">! callback function for chars</span>
<span class="line_number">3822 </span>        <span class="keyword">subroutine</span> get_chars_from_array<span class="sign">(</span>element<span class="sign">,</span> i<span class="sign">,</span> count<span class="sign">)</span>
<span class="line_number">3823 </span>        
<span class="line_number">3824 </span>        <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3825 </span>
<span class="line_number">3826 </span>        <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> element
<span class="line_number">3827 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> i        <span class="comment">!index</span>
<span class="line_number">3828 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> count    <span class="comment">!size of array</span>
<span class="line_number">3829 </span>
<span class="line_number">3830 </span>        <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> cval
<span class="line_number">3831 </span>
<span class="line_number">3832 </span>        <span class="comment">!size the output array:</span>
<span class="line_number">3833 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> initialized<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3834 </span>            <span class="keyword">allocate</span><span class="sign">(</span>vec<span class="sign">(</span>count<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">3835 </span>            initialized <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">3836 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3837 </span>
<span class="line_number">3838 </span>        <span class="comment">!populate the elements:</span>
<span class="line_number">3839 </span>        <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>element<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>cval<span class="sign">)</span>
<span class="line_number">3840 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>cval<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3841 </span>            vec<span class="sign">(</span>i<span class="sign">)</span> <span class="sign">=</span> cval
<span class="line_number">3842 </span>            <span class="keyword">deallocate</span><span class="sign">(</span>cval<span class="sign">)</span>
<span class="line_number">3843 </span>        <span class="keyword">else</span>
<span class="line_number">3844 </span>            vec<span class="sign">(</span>i<span class="sign">)</span> <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">3845 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3846 </span>
<span class="line_number">3847 </span>        <span class="keyword">end</span> <span class="keyword">subroutine</span> get_chars_from_array
<span class="line_number">3848 </span>
<span class="line_number">3849 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_get_string_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5finfo"></a>
<a name="robo50"></a><h2>json_module/json_info [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_info</strong>
</pre>
<p class="item_name">USAGE</p>
<pre>    call me%info(path,found,<a href="#robo81">var_type</a>,n_children)
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns information about a <a href="#robo64">json_value</a>
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 2/13/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">925 </span>    <span class="keyword">subroutine</span> <strong>json_info</strong><span class="sign">(</span>p<span class="sign">,</span><a href="#robo81">var_type</a><span class="sign">,</span>n_children<span class="sign">)</span>
<span class="line_number">926 </span>
<span class="line_number">927 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">928 </span>
<span class="line_number">929 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>         <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">930 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo81">var_type</a>
<span class="line_number">931 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> n_children
<span class="line_number">932 </span>        
<span class="line_number">933 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span><a href="#robo81">var_type</a><span class="sign">)</span><span class="sign">)</span>    <a href="#robo81">var_type</a> <span class="sign">=</span> p<span class="sign">%</span><a href="#robo81">var_type</a>  <span class="comment">!variable type</span>
<span class="line_number">934 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>n_children<span class="sign">)</span><span class="sign">)</span>  n_children <span class="sign">=</span> <a href="#robo5">json_count</a><span class="sign">(</span>p<span class="sign">)</span>  <span class="comment">!number of children</span>
<span class="line_number">935 </span>    
<span class="line_number">936 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_info</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5finitialize"></a>
<a name="robo51"></a><h2>json_module/json_initialize [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_initialize</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Initialize the module.
    Should be called before the routines are used.
    It can also be called after using the module and encountering exceptions.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/4/2013
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1235 </span>    <span class="keyword">subroutine</span> <strong>json_initialize</strong><span class="sign">(</span>verbose<span class="sign">)</span>
<span class="line_number">1236 </span>
<span class="line_number">1237 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1238 </span>    
<span class="line_number">1239 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> verbose  <span class="comment">!mainly useful for debugging (default is false)</span>
<span class="line_number">1240 </span>    
<span class="line_number">1241 </span>    <span class="comment">!optional input (if not present, value remains unchanged):</span>
<span class="line_number">1242 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>verbose<span class="sign">)</span><span class="sign">)</span> is_verbose <span class="sign">=</span> verbose
<span class="line_number">1243 </span>
<span class="line_number">1244 </span>    <span class="comment">!clear any errors from previous runs:</span>
<span class="line_number">1245 </span>    <span class="keyword">call</span> <a href="#robo4">json_clear_exceptions</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">1246 </span>
<span class="line_number">1247 </span>    <span class="comment">!Just in case, clear these global variables also:</span>
<span class="line_number">1248 </span>    pushed_index <span class="sign">=</span> 0
<span class="line_number">1249 </span>    pushed_char  <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">1250 </span>    char_count   <span class="sign">=</span> 0
<span class="line_number">1251 </span>    line_count   <span class="sign">=</span> 1
<span class="line_number">1252 </span>
<span class="line_number">1253 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_initialize</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fparse"></a>
<a name="robo52"></a><h2>json_module/json_parse [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_parse</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Parse the JSON file and populate the <a href="#robo64">json_value</a> tree.

    Inputs can be:
      file and unit : the specified unit is used to read JSON from file
                      [note if unit is already open, then the filename is ignored]
      file          : JSON is read from file using internal unit number
      str           : JSON data is read from the string instead
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>),pointer :: p
    call <strong>json_parse</strong>(file='myfile.json', p=p)
</pre>
<p class="item_name">NOTES</p>
<pre>    When calling this routine, any exceptions thrown from previous
        calls will automatically be cleared.
</pre>
<p class="item_name">HISTORY</p>
<pre>    Jacob Williams : 1/13/2015 : added read from string option.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">3961 </span>    <span class="keyword">subroutine</span> <strong>json_parse</strong><span class="sign">(</span>file<span class="sign">,</span> p<span class="sign">,</span> unit<span class="sign">,</span> str<span class="sign">)</span>
<span class="line_number">3962 </span>
<span class="line_number">3963 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">3964 </span>
<span class="line_number">3965 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> file  <span class="comment">!JSON file name</span>
<span class="line_number">3966 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>                     <span class="sign">:</span><span class="sign">:</span> p     <span class="comment">!output structure</span>
<span class="line_number">3967 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>              <span class="sign">:</span><span class="sign">:</span> unit  <span class="comment">!file unit number (/= 0)</span>
<span class="line_number">3968 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> str   <span class="comment">!string with JSON data</span>
<span class="line_number">3969 </span>
<span class="line_number">3970 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> iunit<span class="sign">,</span> istat<span class="sign">,</span> i<span class="sign">,</span> i_nl_prev<span class="sign">,</span> i_nl
<span class="line_number">3971 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> line<span class="sign">,</span> arrow_str
<span class="line_number">3972 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span>10<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> line_str<span class="sign">,</span> char_str
<span class="line_number">3973 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> is_open
<span class="line_number">3974 </span>    <span class="keyword">character</span><span class="sign">(</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> buffer
<span class="line_number">3975 </span>
<span class="line_number">3976 </span>    <span class="comment">!clear any exceptions and initialize:</span>
<span class="line_number">3977 </span>    <span class="keyword">call</span> <a href="#robo51">json_initialize</a><span class="sign">(</span><span class="sign">)</span>
<span class="line_number">3978 </span>
<span class="line_number">3979 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>unit<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>file<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3980 </span>        
<span class="line_number">3981 </span>        <span class="keyword">if</span> <span class="sign">(</span>unit<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3982 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_parse</strong>: unit number must not be 0.'</span><span class="sign">)</span>
<span class="line_number">3983 </span>            <span class="keyword">return</span>      
<span class="line_number">3984 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">3985 </span>        
<span class="line_number">3986 </span>        iunit <span class="sign">=</span> unit 
<span class="line_number">3987 </span>        
<span class="line_number">3988 </span>        <span class="comment">!check to see if the file is already open</span>
<span class="line_number">3989 </span>        <span class="comment">! if it is, then use it, otherwise open the file with the name given.</span>
<span class="line_number">3990 </span>        <span class="keyword">inquire</span><span class="sign">(</span>unit<span class="sign">=</span>iunit<span class="sign">,</span> opened<span class="sign">=</span>is_open<span class="sign">,</span> iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">3991 </span>        <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0 <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span>not<span class="sign">.</span> is_open<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">3992 </span>           <span class="comment">! open the file</span>
<span class="line_number">3993 </span>            <span class="keyword">open</span> <span class="sign">(</span>  unit        <span class="sign">=</span> iunit<span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">3994 </span>                    file        <span class="sign">=</span> file<span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">3995 </span>                    status      <span class="sign">=</span> <span class="squote">'OLD'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">3996 </span>                    action      <span class="sign">=</span> <span class="squote">'READ'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">3997 </span>                    form        <span class="sign">=</span> <span class="squote">'FORMATTED'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">3998 </span>                    position    <span class="sign">=</span> <span class="squote">'REWIND'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">3999 </span>                    iostat      <span class="sign">=</span> istat<span class="sign">)</span>
<span class="line_number">4000 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4001 </span>        
<span class="line_number">4002 </span>    elseif <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>unit<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>file<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4003 </span>    
<span class="line_number">4004 </span>        <span class="comment">! open the file with a new unit number:</span>
<span class="line_number">4005 </span>        <span class="keyword">open</span> <span class="sign">(</span>  newunit     <span class="sign">=</span> iunit<span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4006 </span>                file        <span class="sign">=</span> file<span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4007 </span>                status      <span class="sign">=</span> <span class="squote">'OLD'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4008 </span>                action      <span class="sign">=</span> <span class="squote">'READ'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4009 </span>                form        <span class="sign">=</span> <span class="squote">'FORMATTED'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4010 </span>                position    <span class="sign">=</span> <span class="squote">'REWIND'</span><span class="sign">,</span> <span class="sign">&amp;</span>
<span class="line_number">4011 </span>                iostat      <span class="sign">=</span> istat<span class="sign">)</span>
<span class="line_number">4012 </span>    
<span class="line_number">4013 </span>    elseif <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>unit<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="sign">.</span>not<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>file<span class="sign">)</span> <span class="sign">.</span>and<span class="sign">.</span> <span class="keyword">present</span><span class="sign">(</span>str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4014 </span>    
<span class="line_number">4015 </span>        buffer <span class="sign">=</span> str
<span class="line_number">4016 </span>        iunit <span class="sign">=</span> 0    <span class="comment">!indicates that json data will be read from buffer</span>
<span class="line_number">4017 </span>        istat <span class="sign">=</span> 0
<span class="line_number">4018 </span>        
<span class="line_number">4019 </span>    <span class="keyword">else</span>
<span class="line_number">4020 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_parse</strong>: Invalid inputs'</span><span class="sign">)</span>
<span class="line_number">4021 </span>        <span class="keyword">return</span>
<span class="line_number">4022 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4023 </span>
<span class="line_number">4024 </span>    <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4025 </span>
<span class="line_number">4026 </span>        <span class="comment">! create the value and associate the pointer</span>
<span class="line_number">4027 </span>        <span class="keyword">call</span> json_value_create<span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">4028 </span>        
<span class="line_number">4029 </span>        <span class="comment">! Note: the name of the root <a href="#robo64">json_value</a> doesn't really matter,</span>
<span class="line_number">4030 </span>        <span class="comment">!  but we'll allocate something here just in case.</span>
<span class="line_number">4031 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>file<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4032 </span>            p<span class="sign">%</span>name <span class="sign">=</span> <span class="keyword">trim</span><span class="sign">(</span>file<span class="sign">)</span>  <span class="comment">!use the file name</span>
<span class="line_number">4033 </span>        <span class="keyword">else</span>
<span class="line_number">4034 </span>            p<span class="sign">%</span>name <span class="sign">=</span> <span class="squote">''</span>          <span class="comment">!if reading it from the string</span>
<span class="line_number">4035 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4036 </span>        
<span class="line_number">4037 </span>        <span class="comment">! parse as a value</span>
<span class="line_number">4038 </span>        <span class="keyword">call</span> parse_value<span class="sign">(</span>unit<span class="sign">=</span>iunit<span class="sign">,</span> str<span class="sign">=</span>buffer<span class="sign">,</span> <span class="keyword">value</span><span class="sign">=</span>p<span class="sign">)</span>
<span class="line_number">4039 </span>        
<span class="line_number">4040 </span>        <span class="comment">! cleanup:</span>
<span class="line_number">4041 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>buffer<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>buffer<span class="sign">)</span>
<span class="line_number">4042 </span>
<span class="line_number">4043 </span>        <span class="comment">!</span>
<span class="line_number">4044 </span>        <span class="comment">!  If there was an error reading the file, then</span>
<span class="line_number">4045 </span>        <span class="comment">!   print the line where the error occurred:</span>
<span class="line_number">4046 </span>        <span class="comment">!</span>
<span class="line_number">4047 </span>        <span class="keyword">if</span> <span class="sign">(</span>exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4048 </span>            
<span class="line_number">4049 </span>            <span class="comment">!the counters for the current line and the last character read:</span>
<span class="line_number">4050 </span>            <span class="keyword">call</span> integer_to_string<span class="sign">(</span>line_count<span class="sign">,</span> line_str<span class="sign">)</span>
<span class="line_number">4051 </span>            <span class="keyword">call</span> integer_to_string<span class="sign">(</span>char_count<span class="sign">,</span> char_str<span class="sign">)</span>
<span class="line_number">4052 </span>            
<span class="line_number">4053 </span>            <span class="comment">!draw the arrow string that points to the current character:</span>
<span class="line_number">4054 </span>            arrow_str <span class="sign">=</span> repeat<span class="sign">(</span><span class="squote">'-'</span><span class="sign">,</span>max<span class="sign">(</span> 0<span class="sign">,</span> char_count <span class="sign">-</span> 1<span class="sign">)</span> <span class="sign">)</span><span class="sign">/</span><span class="sign">/</span><span class="squote">'^'</span>
<span class="line_number">4055 </span>        
<span class="line_number">4056 </span>            <span class="keyword">if</span> <span class="sign">(</span>iunit<span class="sign">/</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">4057 </span>            
<span class="line_number">4058 </span>                <span class="keyword">call</span> get_current_line_from_file<span class="sign">(</span>iunit<span class="sign">,</span>line<span class="sign">)</span>
<span class="line_number">4059 </span>                
<span class="line_number">4060 </span>            <span class="keyword">else</span>
<span class="line_number">4061 </span>            
<span class="line_number">4062 </span>                <span class="comment">!get the current line from the string:</span>
<span class="line_number">4063 </span>                <span class="comment">! [this is done by counting the newline characters]</span>
<span class="line_number">4064 </span>                i_nl_prev <span class="sign">=</span> 0  <span class="comment">!index of previous newline character</span>
<span class="line_number">4065 </span>                <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span>line_count
<span class="line_number">4066 </span>                    i_nl <span class="sign">=</span> index<span class="sign">(</span>str<span class="sign">(</span>i_nl_prev<span class="sign">+</span>1<span class="sign">:</span><span class="sign">)</span><span class="sign">,</span>newline<span class="sign">)</span>
<span class="line_number">4067 </span>                    <span class="keyword">if</span> <span class="sign">(</span>i_nl<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>   <span class="comment">!last line - no newline character</span>
<span class="line_number">4068 </span>                        i_nl <span class="sign">=</span> len<span class="sign">(</span>str<span class="sign">)</span><span class="sign">+</span>1
<span class="line_number">4069 </span>                        <span class="keyword">exit</span>
<span class="line_number">4070 </span>                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4071 </span>                    i_nl <span class="sign">=</span> i_nl <span class="sign">+</span> i_nl_prev   <span class="comment">!index of current newline character</span>
<span class="line_number">4072 </span>                    i_nl_prev <span class="sign">=</span> i_nl          <span class="comment">!update for next iteration</span>
<span class="line_number">4073 </span>                <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">4074 </span>                line <span class="sign">=</span> str<span class="sign">(</span>i_nl_prev<span class="sign">+</span>1 <span class="sign">:</span> i_nl<span class="sign">-</span>1<span class="sign">)</span>  <span class="comment">!extract current line</span>
<span class="line_number">4075 </span>                
<span class="line_number">4076 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4077 </span>            
<span class="line_number">4078 </span>            <span class="comment">!create the error message:</span>
<span class="line_number">4079 </span>            err_message <span class="sign">=</span> err_message<span class="sign">/</span><span class="sign">/</span>newline<span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">4080 </span>                           <span class="squote">'line: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>adjustl<span class="sign">(</span>line_str<span class="sign">)</span><span class="sign">)</span><span class="sign">/</span><span class="sign">/</span><span class="squote">', '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">4081 </span>                           <span class="squote">'character: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>adjustl<span class="sign">(</span>char_str<span class="sign">)</span><span class="sign">)</span><span class="sign">/</span><span class="sign">/</span>newline<span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">4082 </span>                           <span class="keyword">trim</span><span class="sign">(</span>line<span class="sign">)</span><span class="sign">/</span><span class="sign">/</span>newline<span class="sign">/</span><span class="sign">/</span>arrow_str
<span class="line_number">4083 </span>                                        
<span class="line_number">4084 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>line<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>line<span class="sign">)</span>
<span class="line_number">4085 </span>                        
<span class="line_number">4086 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4087 </span>
<span class="line_number">4088 </span>        <span class="comment">! close the file if necessary</span>
<span class="line_number">4089 </span>        <span class="keyword">if</span> <span class="sign">(</span>iunit<span class="sign">/</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">close</span><span class="sign">(</span>unit<span class="sign">=</span>iunit<span class="sign">,</span> iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">4090 </span>
<span class="line_number">4091 </span>    <span class="keyword">else</span>
<span class="line_number">4092 </span>
<span class="line_number">4093 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_parse</strong>: Error opening file: '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>file<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">4094 </span>        <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">4095 </span>
<span class="line_number">4096 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">4097 </span>
<span class="line_number">4098 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_parse</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fprint"></a>
<a name="robo53"></a><h2>json_module/json_print [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_print</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Print the <a href="#robo64">json_value</a> to a file.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<a href="#robo64">json_value</a>) :: p
    ...
    call <strong>json_print</strong>(p,'test.json')  !this is <a href="#robo55">json_print_2</a>
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">448 </span>    <span class="keyword">interface</span> <strong>json_print</strong>
<span class="line_number">449 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo54">json_print_1</a>    <span class="comment">!input is unit number</span>
<span class="line_number">450 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo55">json_print_2</a>    <span class="comment">!input is file name</span>
<span class="line_number">451 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5fprint5f1"></a>
<a name="robo54"></a><h2>json_module/json_print_1 [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_print_1</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Print the JSON structure to a file
    Input is the nonzero file unit (the file must already have been opened).
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams, 6/20/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2603 </span>    <span class="keyword">subroutine</span> <strong>json_print_1</strong><span class="sign">(</span>me<span class="sign">,</span>iunit<span class="sign">)</span>
<span class="line_number">2604 </span>    
<span class="line_number">2605 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2606 </span>    
<span class="line_number">2607 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2608 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> iunit    <span class="comment">!must be non-zero</span>
<span class="line_number">2609 </span>    
<span class="line_number">2610 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> dummy
<span class="line_number">2611 </span>    
<span class="line_number">2612 </span>    <span class="keyword">if</span> <span class="sign">(</span>iunit<span class="sign">/</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2613 </span>        <span class="keyword">call</span> json_value_print<span class="sign">(</span>me<span class="sign">,</span>iunit<span class="sign">,</span>str<span class="sign">=</span>dummy<span class="sign">,</span> indent<span class="sign">=</span>1<span class="sign">,</span> colon<span class="sign">=</span><span class="sign">.</span>true<span class="sign">.</span><span class="sign">)</span>
<span class="line_number">2614 </span>    <span class="keyword">else</span>
<span class="line_number">2615 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <a href="#robo53">json_print</a>: iunit must be nonzero.'</span><span class="sign">)</span>
<span class="line_number">2616 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2617 </span>    
<span class="line_number">2618 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_print_1</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fprint5f2"></a>
<a name="robo55"></a><h2>json_module/json_print_2 [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_print_2</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Print the JSON structure to a file.
    Input is the filename.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams, 12/23/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2635 </span>    <span class="keyword">subroutine</span> <strong>json_print_2</strong><span class="sign">(</span>me<span class="sign">,</span>filename<span class="sign">)</span>
<span class="line_number">2636 </span>    
<span class="line_number">2637 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2638 </span>    
<span class="line_number">2639 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2640 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> filename
<span class="line_number">2641 </span>    
<span class="line_number">2642 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> iunit<span class="sign">,</span>istat
<span class="line_number">2643 </span>    
<span class="line_number">2644 </span>    <span class="keyword">open</span><span class="sign">(</span>newunit<span class="sign">=</span>iunit<span class="sign">,</span>file<span class="sign">=</span>filename<span class="sign">,</span>status<span class="sign">=</span><span class="squote">'REPLACE'</span><span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">2645 </span>    <span class="keyword">if</span> <span class="sign">(</span>istat<span class="sign">=</span><span class="sign">=</span>0<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2646 </span>        <span class="keyword">call</span> <a href="#robo53">json_print</a><span class="sign">(</span>me<span class="sign">,</span>iunit<span class="sign">)</span>
<span class="line_number">2647 </span>        <span class="keyword">close</span><span class="sign">(</span>iunit<span class="sign">,</span>iostat<span class="sign">=</span>istat<span class="sign">)</span>
<span class="line_number">2648 </span>    <span class="keyword">else</span>
<span class="line_number">2649 </span>        <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <a href="#robo53">json_print</a>: could not open file: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2650 </span>                              <span class="keyword">trim</span><span class="sign">(</span>filename<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">2651 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2652 </span>    
<span class="line_number">2653 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_print_2</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fprint5fto5fstring"></a>
<a name="robo56"></a><h2>json_module/json_print_to_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_print_to_string</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Print the <a href="#robo64">json_value</a> structure to an allocatable string.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">428 </span>    <span class="keyword">interface</span> <strong>json_print_to_string</strong>
<span class="line_number">429 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo79">json_value_to_string</a>
<span class="line_number">430 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5fremove"></a>
<a name="robo57"></a><h2>json_module/json_remove [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_remove</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Remove a <a href="#robo64">json_value</a> from a linked-list structure.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">486 </span>    <span class="keyword">interface</span> <strong>json_remove</strong>
<span class="line_number">487 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo77">json_value_remove</a>
<span class="line_number">488 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5fremove5fif5fpresent"></a>
<a name="robo58"></a><h2>json_module/json_remove_if_present [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_remove_if_present</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    If the child variable is present, then remove it.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">501 </span>    <span class="keyword">interface</span> <strong>json_remove_if_present</strong>
<span class="line_number">502 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo78">json_value_remove_if_present</a>
<span class="line_number">503 </span>    <span class="keyword">end</span> <span class="keyword">interface</span>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate"></a>
<a name="robo59"></a><h2>json_module/json_update [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_update</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    These are like <a href="#robo2">json_add</a>, except if a child with the same name is
     already present, then its value is simply updated.
    Note that currently, these only work for scalar variables.
    These routines can also change the variable's type (but an error will be 
     thrown if the existing variable is not a scalar).
</pre>
<p class="item_name">NOTES</p>
<pre>    It should not be used to change the type of a variable in an array,
     or it will produce an invalid JSON file.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">390 </span>    <span class="keyword">interface</span> <strong>json_update</strong>
<span class="line_number">391 </span>        <span class="keyword">module</span> <span class="keyword">procedure</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo62">json_update_logical</a><span class="sign">,</span><span class="sign">&amp;</span>
<span class="line_number">392 </span>                            <a href="#robo60">json_update_double</a><span class="sign">,</span><span class="sign">&amp;</span>
<span class="line_number">393 </span>                            <a href="#robo61">json_update_integer</a><span class="sign">,</span><span class="sign">&amp;</span>
<span class="line_number">394 </span>                            <a href="#robo63">json_update_string</a>
<span class="line_number">395 </span>    <span class="keyword">end</span> <span class="keyword">interface</span> <strong>json_update</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate5fdouble"></a>
<a name="robo60"></a><h2>json_module/json_update_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_update_double</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given the path string, if the variable is present, 
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/6/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1821 </span>    <span class="keyword">subroutine</span> <strong>json_update_double</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1822 </span>     
<span class="line_number">1823 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1824 </span>    
<span class="line_number">1825 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1826 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1827 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                 <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1828 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1829 </span>    
<span class="line_number">1830 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">1831 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo81">var_type</a>
<span class="line_number">1832 </span> 
<span class="line_number">1833 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1834 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1835 </span>
<span class="line_number">1836 </span>        <span class="keyword">call</span> <a href="#robo50">json_info</a><span class="sign">(</span>p_var<span class="sign">,</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">1837 </span>        <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">1838 </span>        <span class="keyword">case</span> <span class="sign">(</span>json_null<span class="sign">,</span>json_logical<span class="sign">,</span>json_integer<span class="sign">,</span>json_double<span class="sign">,</span>json_string<span class="sign">)</span>
<span class="line_number">1839 </span>            <span class="keyword">call</span> to_double<span class="sign">(</span>p_var<span class="sign">,</span>val<span class="sign">)</span>    <span class="comment">!update the value</span>
<span class="line_number">1840 </span>        <span class="keyword">case</span> default
<span class="line_number">1841 </span>            found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">1842 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_update_double</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">1843 </span>                                 <span class="squote">'the variable is not a scalar value'</span><span class="sign">)</span>
<span class="line_number">1844 </span>        <span class="keyword">end</span> <span class="keyword">select</span>          
<span class="line_number">1845 </span>
<span class="line_number">1846 </span>    <span class="keyword">else</span>
<span class="line_number">1847 </span>        <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">)</span>   <span class="comment">!add the new element</span>
<span class="line_number">1848 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1849 </span>                     
<span class="line_number">1850 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_update_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate5finteger"></a>
<a name="robo61"></a><h2>json_module/json_update_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_update_integer</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given the path string, if the variable is present, 
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/6/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1869 </span>    <span class="keyword">subroutine</span> <strong>json_update_integer</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1870 </span>
<span class="line_number">1871 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1872 </span>    
<span class="line_number">1873 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1874 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1875 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1876 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1877 </span>    
<span class="line_number">1878 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">1879 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo81">var_type</a>
<span class="line_number">1880 </span> 
<span class="line_number">1881 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1882 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1883 </span>
<span class="line_number">1884 </span>        <span class="keyword">call</span> <a href="#robo50">json_info</a><span class="sign">(</span>p_var<span class="sign">,</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">1885 </span>        <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">1886 </span>        <span class="keyword">case</span> <span class="sign">(</span>json_null<span class="sign">,</span>json_logical<span class="sign">,</span>json_integer<span class="sign">,</span>json_double<span class="sign">,</span>json_string<span class="sign">)</span>
<span class="line_number">1887 </span>            <span class="keyword">call</span> to_integer<span class="sign">(</span>p_var<span class="sign">,</span>val<span class="sign">)</span>    <span class="comment">!update the value</span>
<span class="line_number">1888 </span>        <span class="keyword">case</span> default
<span class="line_number">1889 </span>            found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">1890 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_update_integer</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">1891 </span>                                 <span class="squote">'the variable is not a scalar value'</span><span class="sign">)</span>
<span class="line_number">1892 </span>        <span class="keyword">end</span> <span class="keyword">select</span>          
<span class="line_number">1893 </span>
<span class="line_number">1894 </span>    <span class="keyword">else</span>
<span class="line_number">1895 </span>        <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">)</span>   <span class="comment">!add the new element</span>
<span class="line_number">1896 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1897 </span>                     
<span class="line_number">1898 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_update_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate5flogical"></a>
<a name="robo62"></a><h2>json_module/json_update_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_update_logical</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given the path string, if the variable is present, 
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/6/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1773 </span>    <span class="keyword">subroutine</span> <strong>json_update_logical</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1774 </span>     
<span class="line_number">1775 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1776 </span>    
<span class="line_number">1777 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1778 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1779 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1780 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1781 </span>    
<span class="line_number">1782 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">1783 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo81">var_type</a>
<span class="line_number">1784 </span> 
<span class="line_number">1785 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1786 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1787 </span>
<span class="line_number">1788 </span>        <span class="keyword">call</span> <a href="#robo50">json_info</a><span class="sign">(</span>p_var<span class="sign">,</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">1789 </span>        <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">1790 </span>        <span class="keyword">case</span> <span class="sign">(</span>json_null<span class="sign">,</span>json_logical<span class="sign">,</span>json_integer<span class="sign">,</span>json_double<span class="sign">,</span>json_string<span class="sign">)</span>
<span class="line_number">1791 </span>            <span class="keyword">call</span> to_logical<span class="sign">(</span>p_var<span class="sign">,</span>val<span class="sign">)</span>    <span class="comment">!update the value</span>
<span class="line_number">1792 </span>        <span class="keyword">case</span> default
<span class="line_number">1793 </span>            found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">1794 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_update_logical</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">1795 </span>                                 <span class="squote">'the variable is not a scalar value'</span><span class="sign">)</span>
<span class="line_number">1796 </span>        <span class="keyword">end</span> <span class="keyword">select</span>          
<span class="line_number">1797 </span>
<span class="line_number">1798 </span>    <span class="keyword">else</span>
<span class="line_number">1799 </span>        <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">)</span>   <span class="comment">!add the new element</span>
<span class="line_number">1800 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1801 </span>                     
<span class="line_number">1802 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_update_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fupdate5fstring"></a>
<a name="robo63"></a><h2>json_module/json_update_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_update_string</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given the path string, if the variable is present, 
    and is a scalar, then update its value.
    If it is not present, then create it and set its value.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/6/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1917 </span>    <span class="keyword">subroutine</span> <strong>json_update_string</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1918 </span>     
<span class="line_number">1919 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1920 </span>    
<span class="line_number">1921 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1922 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1923 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">1924 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span>             <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1925 </span>    
<span class="line_number">1926 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">1927 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo81">var_type</a>
<span class="line_number">1928 </span> 
<span class="line_number">1929 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1930 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1931 </span>
<span class="line_number">1932 </span>        <span class="keyword">call</span> <a href="#robo50">json_info</a><span class="sign">(</span>p_var<span class="sign">,</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">1933 </span>        <span class="keyword">select</span> <span class="keyword">case</span> <span class="sign">(</span><a href="#robo81">var_type</a><span class="sign">)</span>
<span class="line_number">1934 </span>        <span class="keyword">case</span> <span class="sign">(</span>json_null<span class="sign">,</span>json_logical<span class="sign">,</span>json_integer<span class="sign">,</span>json_double<span class="sign">,</span>json_string<span class="sign">)</span>
<span class="line_number">1935 </span>            <span class="keyword">call</span> to_string<span class="sign">(</span>p_var<span class="sign">,</span>val<span class="sign">)</span>    <span class="comment">!update the value</span>
<span class="line_number">1936 </span>        <span class="keyword">case</span> default
<span class="line_number">1937 </span>            found <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">1938 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_update_string</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">1939 </span>                                 <span class="squote">'the variable is not a scalar value'</span><span class="sign">)</span>
<span class="line_number">1940 </span>        <span class="keyword">end</span> <span class="keyword">select</span>          
<span class="line_number">1941 </span>
<span class="line_number">1942 </span>    <span class="keyword">else</span>
<span class="line_number">1943 </span>        <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>val<span class="sign">)</span>   <span class="comment">!add the new element</span>
<span class="line_number">1944 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1945 </span>                     
<span class="line_number">1946 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_update_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue"></a>
<a name="robo64"></a><h2>json_module/json_value [ Classes ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_classes.html#robo_top_of_doc">Classes</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Type used to construct the linked-list json structure
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    type(<strong>json_value</strong>),pointer :: p
    call <a href="#robo11">json_create_object</a>(p) 
    call <a href="#robo2">json_add</a>(p,'year',1805)
    call <a href="#robo2">json_add</a>(p,'value',1.0d0)
    call <a href="#robo53">json_print</a>(p,'test.json')
    call <a href="#robo13">json_destroy</a>(p)
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">198 </span>        <span class="keyword">type</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> <strong>json_value</strong>
<span class="line_number">199 </span>            
<span class="line_number">200 </span>        <span class="comment">!force the constituents to be stored contiguously</span>
<span class="line_number">201 </span>        <span class="comment">![note: on Intel, the order of the variables below</span>
<span class="line_number">202 </span>        <span class="comment">! is significant to avoid the misaligned field warnings]</span>
<span class="line_number">203 </span>        <span class="keyword">sequence</span>  
<span class="line_number">204 </span>
<span class="line_number">205 </span>        <span class="comment">!for the linked list:</span>
<span class="line_number">206 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> previous <span class="sign">=</span><span class="sign">&gt;</span> null<span class="sign">(</span><span class="sign">)</span>
<span class="line_number">207 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> next     <span class="sign">=</span><span class="sign">&gt;</span> null<span class="sign">(</span><span class="sign">)</span>
<span class="line_number">208 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> parent   <span class="sign">=</span><span class="sign">&gt;</span> null<span class="sign">(</span><span class="sign">)</span>
<span class="line_number">209 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> children <span class="sign">=</span><span class="sign">&gt;</span> null<span class="sign">(</span><span class="sign">)</span>
<span class="line_number">210 </span>        <span class="keyword">type</span><span class="sign">(</span><strong>json_value</strong><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> tail     <span class="sign">=</span><span class="sign">&gt;</span> null<span class="sign">(</span><span class="sign">)</span>
<span class="line_number">211 </span>
<span class="line_number">212 </span>        <span class="comment">!variable name:</span>
<span class="line_number">213 </span>        <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">214 </span>
<span class="line_number">215 </span>        <span class="comment">!the data for this variable:</span>
<span class="line_number">216 </span>        <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span>                 <span class="sign">:</span><span class="sign">:</span> dbl_value
<span class="line_number">217 </span>        <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span>              <span class="sign">:</span><span class="sign">:</span> log_value
<span class="line_number">218 </span>        <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> str_value
<span class="line_number">219 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span>              <span class="sign">:</span><span class="sign">:</span> int_value
<span class="line_number">220 </span>        
<span class="line_number">221 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> <a href="#robo81">var_type</a> <span class="sign">=</span> json_unknown  <span class="comment">!variable type</span>
<span class="line_number">222 </span>    
<span class="line_number">223 </span>        <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">private</span> <span class="sign">:</span><span class="sign">:</span> n_children <span class="sign">=</span> 0   <span class="comment">!number of children</span>
<span class="line_number">224 </span>
<span class="line_number">225 </span>        <span class="keyword">end</span> <span class="keyword">type</span> <strong>json_value</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fdouble"></a>
<a name="robo65"></a><h2>json_module/json_value_add_double [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_add_double</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Add a real value to the structure.

    These routines are part of the public API that can be
        used to build a json structure using data.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/19/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2010 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_double</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2011 </span>
<span class="line_number">2012 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2013 </span>
<span class="line_number">2014 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2015 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2016 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>                 <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2017 </span>
<span class="line_number">2018 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2019 </span>
<span class="line_number">2020 </span>    <span class="comment">!create the variable:</span>
<span class="line_number">2021 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2022 </span>    <span class="keyword">call</span> to_double<span class="sign">(</span>var<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2023 </span>
<span class="line_number">2024 </span>    <span class="comment">!add it:</span>
<span class="line_number">2025 </span>    <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2026 </span>
<span class="line_number">2027 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2028 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2029 </span>
<span class="line_number">2030 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_double</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fdouble5fvec"></a>
<a name="robo66"></a><h2>json_module/json_value_add_double_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_add_double_vec</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Add a real vector to the structure.

    These routines are part of the public API that can be
        used to build a json structure using data.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/20/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2050 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_double_vec</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2051 </span>
<span class="line_number">2052 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2053 </span>
<span class="line_number">2054 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2055 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2056 </span>    <span class="keyword">real</span><span class="sign">(</span>RK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>    <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2057 </span>
<span class="line_number">2058 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2059 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i
<span class="line_number">2060 </span>
<span class="line_number">2061 </span>    <span class="comment">!create the variable as an array:</span>
<span class="line_number">2062 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2063 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>var<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2064 </span>
<span class="line_number">2065 </span>    <span class="comment">!populate the array:</span>
<span class="line_number">2066 </span>    <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span>size<span class="sign">(</span>val<span class="sign">)</span>
<span class="line_number">2067 </span>        <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>var<span class="sign">,</span> <span class="squote">''</span><span class="sign">,</span> val<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">2068 </span>    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2069 </span>
<span class="line_number">2070 </span>    <span class="comment">!add it:</span>
<span class="line_number">2071 </span>    <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2072 </span>
<span class="line_number">2073 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2074 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2075 </span>
<span class="line_number">2076 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_double_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5finteger"></a>
<a name="robo67"></a><h2>json_module/json_value_add_integer [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_add_integer</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Add an integer value to the structure.

    These routines are part of the public API that can be
        used to build a json structure using data.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/20/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2096 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_integer</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2097 </span>
<span class="line_number">2098 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2099 </span>
<span class="line_number">2100 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2101 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2102 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2103 </span>
<span class="line_number">2104 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2105 </span>
<span class="line_number">2106 </span>    <span class="comment">!create the variable:</span>
<span class="line_number">2107 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2108 </span>    <span class="keyword">call</span> to_integer<span class="sign">(</span>var<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2109 </span>
<span class="line_number">2110 </span>    <span class="comment">!add it:</span>
<span class="line_number">2111 </span>    <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2112 </span>
<span class="line_number">2113 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2114 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2115 </span>
<span class="line_number">2116 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_integer</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5finteger5fvec"></a>
<a name="robo68"></a><h2>json_module/json_value_add_integer_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_add_integer_vec</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Add an integer vector to the structure.

    These routines are part of the public API that can be
        used to build a json structure using data.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/20/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2136 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_integer_vec</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2137 </span>
<span class="line_number">2138 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2139 </span>
<span class="line_number">2140 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2141 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2142 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2143 </span>
<span class="line_number">2144 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2145 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i    <span class="comment">!counter</span>
<span class="line_number">2146 </span>
<span class="line_number">2147 </span>    <span class="comment">!create the variable as an array:</span>
<span class="line_number">2148 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2149 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>var<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2150 </span>
<span class="line_number">2151 </span>    <span class="comment">!populate the array:</span>
<span class="line_number">2152 </span>    <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span>size<span class="sign">(</span>val<span class="sign">)</span>
<span class="line_number">2153 </span>        <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>var<span class="sign">,</span> <span class="squote">''</span><span class="sign">,</span> val<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">2154 </span>    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2155 </span>
<span class="line_number">2156 </span>    <span class="comment">!add it:</span>
<span class="line_number">2157 </span>    <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2158 </span>
<span class="line_number">2159 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2160 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2161 </span>
<span class="line_number">2162 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_integer_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5flogical"></a>
<a name="robo69"></a><h2>json_module/json_value_add_logical [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_add_logical</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Add a logical value to the structure.

    These routines are part of the public API that can be
        used to build a json structure using data.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/20/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2182 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_logical</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2183 </span>
<span class="line_number">2184 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2185 </span>
<span class="line_number">2186 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2187 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2188 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2189 </span>
<span class="line_number">2190 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2191 </span>
<span class="line_number">2192 </span>    <span class="comment">!create the variable:</span>
<span class="line_number">2193 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2194 </span>    <span class="keyword">call</span> to_logical<span class="sign">(</span>var<span class="sign">,</span>val<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2195 </span>
<span class="line_number">2196 </span>    <span class="comment">!add it:</span>
<span class="line_number">2197 </span>    <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2198 </span>
<span class="line_number">2199 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2200 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2201 </span>
<span class="line_number">2202 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_logical</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5flogical5fvec"></a>
<a name="robo70"></a><h2>json_module/json_value_add_logical_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_add_logical_vec</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Add a logical vector to the structure.

    These routines are part of the public API that can be
        used to build a json structure using data.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/20/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2222 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_logical_vec</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2223 </span>
<span class="line_number">2224 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2225 </span>
<span class="line_number">2226 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2227 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2228 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2229 </span>
<span class="line_number">2230 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2231 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i    <span class="comment">!counter</span>
<span class="line_number">2232 </span>
<span class="line_number">2233 </span>    <span class="comment">!create the variable as an array:</span>
<span class="line_number">2234 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2235 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>var<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2236 </span>
<span class="line_number">2237 </span>    <span class="comment">!populate the array:</span>
<span class="line_number">2238 </span>    <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span>size<span class="sign">(</span>val<span class="sign">)</span>
<span class="line_number">2239 </span>        <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>var<span class="sign">,</span> <span class="squote">''</span><span class="sign">,</span> val<span class="sign">(</span>i<span class="sign">)</span><span class="sign">)</span>
<span class="line_number">2240 </span>    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2241 </span>
<span class="line_number">2242 </span>    <span class="comment">!add it:</span>
<span class="line_number">2243 </span>    <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2244 </span>
<span class="line_number">2245 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2246 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2247 </span>
<span class="line_number">2248 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_logical_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fmember"></a>
<a name="robo71"></a><h2>json_module/json_value_add_member [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_add_member</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Adds the member as a child of this.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1960 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_member</strong><span class="sign">(</span>this<span class="sign">,</span> member<span class="sign">)</span>
<span class="line_number">1961 </span>
<span class="line_number">1962 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1963 </span>
<span class="line_number">1964 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> this<span class="sign">,</span> member
<span class="line_number">1965 </span>
<span class="line_number">1966 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1967 </span>
<span class="line_number">1968 </span>        <span class="comment">! associate the parent</span>
<span class="line_number">1969 </span>        member<span class="sign">%</span>parent <span class="sign">=</span><span class="sign">&gt;</span> this
<span class="line_number">1970 </span>
<span class="line_number">1971 </span>        <span class="comment">! add to linked list</span>
<span class="line_number">1972 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>children<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1973 </span>
<span class="line_number">1974 </span>            this<span class="sign">%</span>tail<span class="sign">%</span>next <span class="sign">=</span><span class="sign">&gt;</span> member
<span class="line_number">1975 </span>            member<span class="sign">%</span>previous <span class="sign">=</span><span class="sign">&gt;</span> this<span class="sign">%</span>tail
<span class="line_number">1976 </span>
<span class="line_number">1977 </span>        <span class="keyword">else</span>
<span class="line_number">1978 </span>
<span class="line_number">1979 </span>            this<span class="sign">%</span>children <span class="sign">=</span><span class="sign">&gt;</span> member
<span class="line_number">1980 </span>            member<span class="sign">%</span>previous <span class="sign">=</span><span class="sign">&gt;</span> null<span class="sign">(</span><span class="sign">)</span>  <span class="comment">!first in the list</span>
<span class="line_number">1981 </span>
<span class="line_number">1982 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1983 </span>        
<span class="line_number">1984 </span>        <span class="comment">! new member is now the last one in the list</span>
<span class="line_number">1985 </span>        this<span class="sign">%</span>tail <span class="sign">=</span><span class="sign">&gt;</span> member
<span class="line_number">1986 </span>        this<span class="sign">%</span>n_children <span class="sign">=</span> this<span class="sign">%</span>n_children <span class="sign">+</span> 1
<span class="line_number">1987 </span>
<span class="line_number">1988 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1989 </span>
<span class="line_number">1990 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_member</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fstring"></a>
<a name="robo72"></a><h2>json_module/json_value_add_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_add_string</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Add a character string the structure.

    These routines are part of the public API that can be
        used to build a json structure using data.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/19/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2268 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_string</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">)</span>
<span class="line_number">2269 </span>
<span class="line_number">2270 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2271 </span>
<span class="line_number">2272 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2273 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2274 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2275 </span>
<span class="line_number">2276 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2277 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">2278 </span>
<span class="line_number">2279 </span>    <span class="comment">!add escape characters if necessary:</span>
<span class="line_number">2280 </span>    <span class="keyword">call</span> escape_string<span class="sign">(</span>val<span class="sign">,</span> str<span class="sign">)</span>
<span class="line_number">2281 </span>
<span class="line_number">2282 </span>    <span class="comment">!create the variable:</span>
<span class="line_number">2283 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2284 </span>    <span class="keyword">call</span> to_string<span class="sign">(</span>var<span class="sign">,</span>str<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2285 </span>
<span class="line_number">2286 </span>    <span class="comment">!add it:</span>
<span class="line_number">2287 </span>    <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2288 </span>
<span class="line_number">2289 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2290 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2291 </span>
<span class="line_number">2292 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_string</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fadd5fstring5fvec"></a>
<a name="robo73"></a><h2>json_module/json_value_add_string_vec [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_add_string_vec</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Add an array of character strings to the structure.

    These routines are part of the public API that can be
        used to build a json structure using data.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/19/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2365 </span>    <span class="keyword">subroutine</span> <strong>json_value_add_string_vec</strong><span class="sign">(</span>me<span class="sign">,</span> name<span class="sign">,</span> val<span class="sign">,</span> trim_str<span class="sign">,</span> adjustl_str<span class="sign">)</span>
<span class="line_number">2366 </span>
<span class="line_number">2367 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2368 </span>
<span class="line_number">2369 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>                         <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2370 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2371 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">dimension</span><span class="sign">(</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> val
<span class="line_number">2372 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                  <span class="sign">:</span><span class="sign">:</span> trim_str
<span class="line_number">2373 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span>                  <span class="sign">:</span><span class="sign">:</span> adjustl_str
<span class="line_number">2374 </span>
<span class="line_number">2375 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> var
<span class="line_number">2376 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i
<span class="line_number">2377 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> trim_string<span class="sign">,</span> adjustl_string
<span class="line_number">2378 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">2379 </span>
<span class="line_number">2380 </span>    <span class="comment">!if the string is to be trimmed or not:</span>
<span class="line_number">2381 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>trim_str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2382 </span>        trim_string <span class="sign">=</span> trim_str
<span class="line_number">2383 </span>    <span class="keyword">else</span>
<span class="line_number">2384 </span>        trim_string <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">2385 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2386 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>adjustl_str<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2387 </span>        adjustl_string <span class="sign">=</span> adjustl_str
<span class="line_number">2388 </span>    <span class="keyword">else</span>
<span class="line_number">2389 </span>        adjustl_string <span class="sign">=</span> <span class="sign">.</span>false<span class="sign">.</span>
<span class="line_number">2390 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2391 </span>
<span class="line_number">2392 </span>    <span class="comment">!create the variable as an array:</span>
<span class="line_number">2393 </span>    <span class="keyword">call</span> json_value_create<span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2394 </span>    <span class="keyword">call</span> to_array<span class="sign">(</span>var<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">2395 </span>
<span class="line_number">2396 </span>    <span class="comment">!populate the array:</span>
<span class="line_number">2397 </span>    <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span>size<span class="sign">(</span>val<span class="sign">)</span>
<span class="line_number">2398 </span>
<span class="line_number">2399 </span>        <span class="comment">!the string to write:</span>
<span class="line_number">2400 </span>        str <span class="sign">=</span> val<span class="sign">(</span>i<span class="sign">)</span>
<span class="line_number">2401 </span>        <span class="keyword">if</span> <span class="sign">(</span>adjustl_string<span class="sign">)</span> str <span class="sign">=</span> adjustl<span class="sign">(</span>str<span class="sign">)</span>
<span class="line_number">2402 </span>        <span class="keyword">if</span> <span class="sign">(</span>trim_string<span class="sign">)</span>    str <span class="sign">=</span> <span class="keyword">trim</span><span class="sign">(</span>str<span class="sign">)</span>
<span class="line_number">2403 </span>
<span class="line_number">2404 </span>        <span class="comment">!write it:</span>
<span class="line_number">2405 </span>        <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>var<span class="sign">,</span> <span class="squote">''</span><span class="sign">,</span> str<span class="sign">)</span>
<span class="line_number">2406 </span>
<span class="line_number">2407 </span>        <span class="comment">!cleanup</span>
<span class="line_number">2408 </span>        <span class="keyword">deallocate</span><span class="sign">(</span>str<span class="sign">)</span>
<span class="line_number">2409 </span>
<span class="line_number">2410 </span>    <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2411 </span>
<span class="line_number">2412 </span>    <span class="comment">!add it:</span>
<span class="line_number">2413 </span>    <span class="keyword">call</span> <a href="#robo2">json_add</a><span class="sign">(</span>me<span class="sign">,</span> var<span class="sign">)</span>
<span class="line_number">2414 </span>
<span class="line_number">2415 </span>    <span class="comment">!cleanup:</span>
<span class="line_number">2416 </span>    <span class="keyword">nullify</span><span class="sign">(</span>var<span class="sign">)</span>
<span class="line_number">2417 </span>
<span class="line_number">2418 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_add_string_vec</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fdestroy"></a>
<a name="robo74"></a><h2>json_module/json_value_destroy [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_destroy</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Destroy a <a href="#robo64">json_value</a> linked-list structure.
</pre>
<p class="item_name">NOTES</p>
<pre>    This routine does not check for exceptions.
    I believe the original version of this routine was not
        properly freeing the memory.  It has been rewritten.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 1/22/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1463 </span>    <span class="keyword">recursive</span> <span class="keyword">subroutine</span> <strong>json_value_destroy</strong><span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">1464 </span>
<span class="line_number">1465 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1466 </span>
<span class="line_number">1467 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">1468 </span>
<span class="line_number">1469 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1470 </span>
<span class="line_number">1471 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>this<span class="sign">%</span>name<span class="sign">)</span><span class="sign">)</span> <span class="keyword">deallocate</span><span class="sign">(</span>this<span class="sign">%</span>name<span class="sign">)</span>
<span class="line_number">1472 </span>
<span class="line_number">1473 </span>        <span class="keyword">call</span> destroy_json_data<span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">1474 </span>
<span class="line_number">1475 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>children<span class="sign">)</span><span class="sign">)</span> <span class="keyword">call</span> <strong>json_value_destroy</strong><span class="sign">(</span>this<span class="sign">%</span>children<span class="sign">)</span>
<span class="line_number">1476 </span>        this<span class="sign">%</span>n_children <span class="sign">=</span> 0
<span class="line_number">1477 </span>        
<span class="line_number">1478 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>next<span class="sign">)</span><span class="sign">)</span> <span class="keyword">call</span> <strong>json_value_destroy</strong><span class="sign">(</span>this<span class="sign">%</span>next<span class="sign">)</span>
<span class="line_number">1479 </span>
<span class="line_number">1480 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>previous<span class="sign">)</span><span class="sign">)</span> <span class="keyword">nullify</span><span class="sign">(</span>this<span class="sign">%</span>previous<span class="sign">)</span>
<span class="line_number">1481 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>parent<span class="sign">)</span><span class="sign">)</span>   <span class="keyword">nullify</span><span class="sign">(</span>this<span class="sign">%</span>parent<span class="sign">)</span>
<span class="line_number">1482 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>tail<span class="sign">)</span><span class="sign">)</span>     <span class="keyword">nullify</span><span class="sign">(</span>this<span class="sign">%</span>tail<span class="sign">)</span>
<span class="line_number">1483 </span>        
<span class="line_number">1484 </span>        <span class="keyword">deallocate</span><span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">1485 </span>
<span class="line_number">1486 </span>        <span class="keyword">nullify</span><span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">1487 </span>
<span class="line_number">1488 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1489 </span>
<span class="line_number">1490 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_destroy</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fget5fby5findex"></a>
<a name="robo75"></a><h2>json_module/json_value_get_by_index [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_get_by_index</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns a child in the object or array given the index.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2460 </span>    <span class="keyword">subroutine</span> <strong>json_value_get_by_index</strong><span class="sign">(</span>this<span class="sign">,</span> idx<span class="sign">,</span> p<span class="sign">)</span>
<span class="line_number">2461 </span>
<span class="line_number">2462 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2463 </span>
<span class="line_number">2464 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">2465 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> idx
<span class="line_number">2466 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">2467 </span>
<span class="line_number">2468 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i
<span class="line_number">2469 </span>    
<span class="line_number">2470 </span>    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">2471 </span>
<span class="line_number">2472 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2473 </span>
<span class="line_number">2474 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">%</span>children<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2475 </span>
<span class="line_number">2476 </span>            p <span class="sign">=</span><span class="sign">&gt;</span> this<span class="sign">%</span>children
<span class="line_number">2477 </span>
<span class="line_number">2478 </span>            <span class="keyword">do</span> i <span class="sign">=</span> 1<span class="sign">,</span> idx <span class="sign">-</span> 1
<span class="line_number">2479 </span>
<span class="line_number">2480 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>p<span class="sign">%</span>next<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2481 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> p<span class="sign">%</span>next
<span class="line_number">2482 </span>                <span class="keyword">else</span>
<span class="line_number">2483 </span>                    <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_value_get_by_index</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2484 </span>                                         <span class="squote">' p%next is not associated.'</span><span class="sign">)</span>
<span class="line_number">2485 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">2486 </span>                    <span class="keyword">return</span>
<span class="line_number">2487 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2488 </span>
<span class="line_number">2489 </span>            <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2490 </span>
<span class="line_number">2491 </span>        <span class="keyword">else</span>
<span class="line_number">2492 </span>
<span class="line_number">2493 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_value_get_by_index</strong>:'</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2494 </span>                                 <span class="squote">' this%children is not associated.'</span><span class="sign">)</span>
<span class="line_number">2495 </span>
<span class="line_number">2496 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2497 </span>
<span class="line_number">2498 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2499 </span>
<span class="line_number">2500 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_get_by_index</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fget5fby5fname5fchars"></a>
<a name="robo76"></a><h2>json_module/json_value_get_by_name_chars [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_get_by_name_chars</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Returns a child in the object or array given the name string.
</pre>
<p class="item_name">NOTES</p>
<pre>    It is a case-sensitive search, and the name string is not trimmed,
        So, for example, 'a ' /= 'A ' /= 'a  '
    Note that the name is not parsed like it is in <a href="#robo40">json_get_by_path</a>.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2519 </span>    <span class="keyword">subroutine</span> <strong>json_value_get_by_name_chars</strong><span class="sign">(</span>this<span class="sign">,</span> name<span class="sign">,</span> p<span class="sign">)</span>
<span class="line_number">2520 </span>
<span class="line_number">2521 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2522 </span>
<span class="line_number">2523 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> this
<span class="line_number">2524 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">2525 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">2526 </span>
<span class="line_number">2527 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> i<span class="sign">,</span>n_children
<span class="line_number">2528 </span>    
<span class="line_number">2529 </span>    <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">2530 </span>
<span class="line_number">2531 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="sign">.</span>not<span class="sign">.</span> exception_thrown<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2532 </span>
<span class="line_number">2533 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>this<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2534 </span>
<span class="line_number">2535 </span>            <span class="keyword">if</span> <span class="sign">(</span>this<span class="sign">%</span><a href="#robo81">var_type</a><span class="sign">=</span><span class="sign">=</span>json_object<span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2536 </span>                n_children <span class="sign">=</span> <a href="#robo5">json_count</a><span class="sign">(</span>this<span class="sign">)</span>
<span class="line_number">2537 </span>                p <span class="sign">=</span><span class="sign">&gt;</span> this<span class="sign">%</span>children    <span class="comment">!start with first one</span>
<span class="line_number">2538 </span>                <span class="keyword">do</span> i<span class="sign">=</span>1<span class="sign">,</span> n_children
<span class="line_number">2539 </span>                    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">allocated</span><span class="sign">(</span>p<span class="sign">%</span>name<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">2540 </span>                        <span class="keyword">if</span> <span class="sign">(</span>p<span class="sign">%</span>name <span class="sign">=</span><span class="sign">=</span> name<span class="sign">)</span> <span class="keyword">return</span>
<span class="line_number">2541 </span>                    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2542 </span>                    p <span class="sign">=</span><span class="sign">&gt;</span> p<span class="sign">%</span>next
<span class="line_number">2543 </span>                <span class="keyword">end</span> <span class="keyword">do</span>
<span class="line_number">2544 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2545 </span>
<span class="line_number">2546 </span>            <span class="comment">!did not find anything:</span>
<span class="line_number">2547 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_value_get_by_name_chars</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2548 </span>                                 <span class="squote">'child variable '</span><span class="sign">/</span><span class="sign">/</span><span class="keyword">trim</span><span class="sign">(</span>name<span class="sign">)</span><span class="sign">/</span><span class="sign">/</span><span class="squote">' was not found.'</span><span class="sign">)</span>
<span class="line_number">2549 </span>            <span class="keyword">nullify</span><span class="sign">(</span>p<span class="sign">)</span>
<span class="line_number">2550 </span>
<span class="line_number">2551 </span>        <span class="keyword">else</span>
<span class="line_number">2552 </span>            <span class="keyword">call</span> throw_exception<span class="sign">(</span><span class="squote">'Error in <strong>json_value_get_by_name_chars</strong>: '</span><span class="sign">/</span><span class="sign">/</span><span class="sign">&amp;</span>
<span class="line_number">2553 </span>                                 <span class="squote">'pointer is not associated.'</span><span class="sign">)</span>
<span class="line_number">2554 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2555 </span>
<span class="line_number">2556 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">2557 </span>
<span class="line_number">2558 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_get_by_name_chars</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fremove"></a>
<a name="robo77"></a><h2>json_module/json_value_remove [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_remove</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Remove a <a href="#robo64">json_value</a> (and all its children) 
      from a linked-list structure, preserving the rest of the structure.
    If destroy is not present, it is also destroyed.
    If destroy is present and true, it is destroyed.
    If destroy is present and false, it is not destroyed.
</pre>
<p class="item_name">EXAMPLE</p>
<pre>    !to extract an object from one json structure, and add it to another:
    type(<a href="#robo64">json_value</a>),pointer :: json1,json2,p
    logical :: found
    [create and populate json1 and json2]
    call <a href="#robo38">json_get</a>(json1,'name',p,found)  ! get pointer to name element of json1
    call <a href="#robo57">json_remove</a>(p,destroy=.false.)  ! remove it from json1 (don't destroy)
    call <a href="#robo2">json_add</a>(json2,p)         ! add it to json2

    !to remove an object from a json structure (and destroy it)
    type(<a href="#robo64">json_value</a>),pointer :: json1,p
    logical :: found
    [create and populate json1]
    call <a href="#robo38">json_get</a>(json1,'name',p,found)  ! get pointer to name element of json1
    call <a href="#robo57">json_remove</a>(p)                  ! remove and destroy it
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 9/9/2014 
</pre>
<p class="item_name">HISTORY</p>
<pre>    JW : 12/28/2014 : added destroy optional argument.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1531 </span>    <span class="keyword">subroutine</span> <strong>json_value_remove</strong><span class="sign">(</span>me<span class="sign">,</span>destroy<span class="sign">)</span>
<span class="line_number">1532 </span>
<span class="line_number">1533 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1534 </span>
<span class="line_number">1535 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>        <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">1536 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span><span class="sign">,</span><span class="keyword">optional</span> <span class="sign">:</span><span class="sign">:</span> destroy
<span class="line_number">1537 </span>    
<span class="line_number">1538 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> parent<span class="sign">,</span>previous<span class="sign">,</span>next
<span class="line_number">1539 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> destroy_it
<span class="line_number">1540 </span>        
<span class="line_number">1541 </span>    <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1542 </span>        
<span class="line_number">1543 </span>        <span class="comment">!optional input argument:</span>
<span class="line_number">1544 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">present</span><span class="sign">(</span>destroy<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1545 </span>            destroy_it <span class="sign">=</span> destroy
<span class="line_number">1546 </span>        <span class="keyword">else</span>
<span class="line_number">1547 </span>            destroy_it <span class="sign">=</span> <span class="sign">.</span>true<span class="sign">.</span>
<span class="line_number">1548 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1549 </span>    
<span class="line_number">1550 </span>        <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>parent<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1551 </span>        
<span class="line_number">1552 </span>            parent <span class="sign">=</span><span class="sign">&gt;</span> me<span class="sign">%</span>parent                    
<span class="line_number">1553 </span>           
<span class="line_number">1554 </span>            <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>next<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1555 </span>        
<span class="line_number">1556 </span>                <span class="comment">!there are later items in the list:</span>
<span class="line_number">1557 </span>            
<span class="line_number">1558 </span>                next <span class="sign">=</span><span class="sign">&gt;</span> me<span class="sign">%</span>next
<span class="line_number">1559 </span>                <span class="keyword">nullify</span><span class="sign">(</span>me<span class="sign">%</span>next<span class="sign">)</span>
<span class="line_number">1560 </span>            
<span class="line_number">1561 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>previous<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>   
<span class="line_number">1562 </span>                    <span class="comment">!there are earlier items in the list</span>
<span class="line_number">1563 </span>                    previous <span class="sign">=</span><span class="sign">&gt;</span> me<span class="sign">%</span>previous                
<span class="line_number">1564 </span>                    previous<span class="sign">%</span>next <span class="sign">=</span><span class="sign">&gt;</span> next
<span class="line_number">1565 </span>                    next<span class="sign">%</span>previous <span class="sign">=</span><span class="sign">&gt;</span> previous
<span class="line_number">1566 </span>                <span class="keyword">else</span>
<span class="line_number">1567 </span>                    <span class="comment">!this is the first item in the list</span>
<span class="line_number">1568 </span>                    parent<span class="sign">%</span>children <span class="sign">=</span><span class="sign">&gt;</span> next
<span class="line_number">1569 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>next<span class="sign">%</span>previous<span class="sign">)</span>
<span class="line_number">1570 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1571 </span>                
<span class="line_number">1572 </span>            <span class="keyword">else</span>
<span class="line_number">1573 </span>            
<span class="line_number">1574 </span>                <span class="keyword">if</span> <span class="sign">(</span><span class="keyword">associated</span><span class="sign">(</span>me<span class="sign">%</span>previous<span class="sign">)</span><span class="sign">)</span> <span class="keyword">then</span>
<span class="line_number">1575 </span>                    <span class="comment">!there are earlier items in the list:</span>
<span class="line_number">1576 </span>                    previous <span class="sign">=</span><span class="sign">&gt;</span> me<span class="sign">%</span>previous 
<span class="line_number">1577 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>previous<span class="sign">%</span>next<span class="sign">)</span>  
<span class="line_number">1578 </span>                    parent<span class="sign">%</span>tail <span class="sign">=</span><span class="sign">&gt;</span> previous
<span class="line_number">1579 </span>                <span class="keyword">else</span>
<span class="line_number">1580 </span>                    <span class="comment">!this is the only item in the list:</span>
<span class="line_number">1581 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>parent<span class="sign">%</span>children<span class="sign">)</span>
<span class="line_number">1582 </span>                    <span class="keyword">nullify</span><span class="sign">(</span>parent<span class="sign">%</span>tail<span class="sign">)</span>            
<span class="line_number">1583 </span>                <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1584 </span>                
<span class="line_number">1585 </span>            <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1586 </span>            
<span class="line_number">1587 </span>            parent<span class="sign">%</span>n_children <span class="sign">=</span> parent<span class="sign">%</span>n_children <span class="sign">-</span> 1
<span class="line_number">1588 </span>                   
<span class="line_number">1589 </span>        <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1590 </span>            
<span class="line_number">1591 </span>        <span class="keyword">if</span> <span class="sign">(</span>destroy_it<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo74">json_value_destroy</a><span class="sign">(</span>me<span class="sign">)</span>
<span class="line_number">1592 </span>
<span class="line_number">1593 </span>    <span class="keyword">end</span> <span class="keyword">if</span>
<span class="line_number">1594 </span>
<span class="line_number">1595 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_remove</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fremove5fif5fpresent"></a>
<a name="robo78"></a><h2>json_module/json_value_remove_if_present [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_remove_if_present</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Given the path string, remove the variable from 
    the <a href="#robo64">json_value</a> structure, if it exists.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 12/6/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">1613 </span>    <span class="keyword">subroutine</span> <strong>json_value_remove_if_present</strong><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">)</span>
<span class="line_number">1614 </span>     
<span class="line_number">1615 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">1616 </span>    
<span class="line_number">1617 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span>            <span class="sign">:</span><span class="sign">:</span> p
<span class="line_number">1618 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">*</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> name
<span class="line_number">1619 </span>    
<span class="line_number">1620 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span> <span class="sign">:</span><span class="sign">:</span> p_var
<span class="line_number">1621 </span>    <span class="keyword">logical</span><span class="sign">(</span>LK<span class="sign">)</span> <span class="sign">:</span><span class="sign">:</span> found
<span class="line_number">1622 </span>    
<span class="line_number">1623 </span>    <span class="keyword">call</span> <a href="#robo38">json_get</a><span class="sign">(</span>p<span class="sign">,</span>name<span class="sign">,</span>p_var<span class="sign">,</span>found<span class="sign">)</span>
<span class="line_number">1624 </span>    <span class="keyword">if</span> <span class="sign">(</span>found<span class="sign">)</span> <span class="keyword">call</span> <a href="#robo57">json_remove</a><span class="sign">(</span>p_var<span class="sign">)</span>
<span class="line_number">1625 </span>     
<span class="line_number">1626 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_remove_if_present</strong>
</pre>

<hr />
<a name="json5fmodule2fjson5fvalue5fto5fstring"></a>
<a name="robo79"></a><h2>json_module/json_value_to_string [ Functions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_functions.html#robo_top_of_doc">Functions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>json_value_to_string</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>    Print the JSON structure to an allocatable string.
</pre>
<p class="item_name">AUTHOR</p>
<pre>    Jacob Williams : 2/12/2014
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">2575 </span>    <span class="keyword">subroutine</span> <strong>json_value_to_string</strong><span class="sign">(</span>me<span class="sign">,</span>str<span class="sign">)</span>
<span class="line_number">2576 </span>
<span class="line_number">2577 </span>    <span class="keyword">implicit</span> <span class="keyword">none</span>
<span class="line_number">2578 </span>    
<span class="line_number">2579 </span>    <span class="keyword">type</span><span class="sign">(</span><a href="#robo64">json_value</a><span class="sign">)</span><span class="sign">,</span><span class="keyword">pointer</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>in<span class="sign">)</span>              <span class="sign">:</span><span class="sign">:</span> me
<span class="line_number">2580 </span>    <span class="keyword">character</span><span class="sign">(</span>kind<span class="sign">=</span>CK<span class="sign">,</span>len<span class="sign">=</span><span class="sign">:</span><span class="sign">)</span><span class="sign">,</span><span class="keyword">intent</span><span class="sign">(</span>out<span class="sign">)</span><span class="sign">,</span><span class="keyword">allocatable</span> <span class="sign">:</span><span class="sign">:</span> str
<span class="line_number">2581 </span>    
<span class="line_number">2582 </span>    str <span class="sign">=</span> <span class="squote">''</span>
<span class="line_number">2583 </span>    <span class="keyword">call</span> json_value_print<span class="sign">(</span>me<span class="sign">,</span> iunit<span class="sign">=</span>0<span class="sign">,</span> str<span class="sign">=</span>str<span class="sign">,</span> indent<span class="sign">=</span>1<span class="sign">,</span> colon<span class="sign">=</span><span class="sign">.</span>true<span class="sign">.</span><span class="sign">)</span>
<span class="line_number">2584 </span>        
<span class="line_number">2585 </span>    <span class="keyword">end</span> <span class="keyword">subroutine</span> <strong>json_value_to_string</strong>
</pre>

<hr />
<a name="json5fmodule2fkinds"></a>
<a name="robo80"></a><h2>json_module/kinds [ Definitions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_definitions.html#robo_top_of_doc">Definitions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>kinds</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>   Kind definitions for real, integer, character, and logical variables.
   The sizes given here are valid for the Intel and Gfortran compilers 
    (and perhaps others)
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">113 </span>    <span class="comment">!default real kind [8 bytes]</span>
<span class="line_number">114 </span>    <span class="keyword">integer</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> RK <span class="sign">=</span> real64     
<span class="line_number">115 </span>            
<span class="line_number">116 </span>    <span class="comment">!default integer kind [4 bytes]</span>
<span class="line_number">117 </span>    <span class="keyword">integer</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> IK <span class="sign">=</span> int32  
<span class="line_number">118 </span>                
<span class="line_number">119 </span>    <span class="comment">!default character kind [1 byte]    </span>
<span class="line_number">120 </span>    <span class="keyword">integer</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> CK <span class="sign">=</span> character_kinds<span class="sign">(</span>1<span class="sign">)</span> 
<span class="line_number">121 </span>    
<span class="line_number">122 </span>    <span class="comment">!default logical kind [4 bytes]  </span>
<span class="line_number">123 </span>    <span class="comment">!The statement here is to ensure a valid kind</span>
<span class="line_number">124 </span>    <span class="comment">! if the compiler doesn't have a logical_kinds(3)</span>
<span class="line_number">125 </span>    <span class="keyword">integer</span><span class="sign">,</span><span class="keyword">parameter</span> <span class="sign">:</span><span class="sign">:</span> LK <span class="sign">=</span> logical_kinds<span class="sign">(</span>min<span class="sign">(</span>3<span class="sign">,</span>size<span class="sign">(</span>logical_kinds<span class="sign">)</span><span class="sign">)</span><span class="sign">)</span>
</pre>

<hr />
<a name="json5fmodule2fvar5ftype"></a>
<a name="robo81"></a><h2>json_module/var_type [ Definitions ]</h2>

<p>[ <a href="#robo_top_of_doc">Top</a> ] [ <a href="#robo0">json_module</a> ] [ <a href="./robo_definitions.html#robo_top_of_doc">Definitions</a> ]</p>
<p class="item_name">NAME</p>
<pre>    <strong>var_type</strong>
</pre>
<p class="item_name">DESCRIPTION</p>
<pre>   The types of JSON data.  
   These are the values returned by the <strong>var_type</strong> arguments
    of the routines <a href="#robo37">json_file_variable_info</a> and <a href="#robo50">json_info</a>.
</pre>
<p class="item_name">SOURCE</p>
<pre class="source"><span class="line_number">169 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_unknown   <span class="sign">=</span> 0
<span class="line_number">170 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_null      <span class="sign">=</span> 1
<span class="line_number">171 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_object    <span class="sign">=</span> 2
<span class="line_number">172 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_array     <span class="sign">=</span> 3
<span class="line_number">173 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_logical   <span class="sign">=</span> 4
<span class="line_number">174 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_integer   <span class="sign">=</span> 5
<span class="line_number">175 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_double    <span class="sign">=</span> 6
<span class="line_number">176 </span>    <span class="keyword">integer</span><span class="sign">(</span>IK<span class="sign">)</span><span class="sign">,</span><span class="keyword">parameter</span><span class="sign">,</span><span class="keyword">public</span> <span class="sign">:</span><span class="sign">:</span> json_string    <span class="sign">=</span> 7
</pre>

</div> <!-- content -->
<div id="footer">
<p>Generated from ./src/json_module.f90 with <a href="http://www.xs4all.nl/~rfsber/Robo/robodoc.html">ROBODoc</a> V4.99.38 on Sat Jan 17 2015 23:11:15
</p>
</div> <!-- footer -->
</body>
</html>
